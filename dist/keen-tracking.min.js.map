{"version":3,"sources":["webpack://Keen/webpack/bootstrap","webpack://Keen/./node_modules/keen-core/lib/utils/each.js","webpack://Keen/./node_modules/keen-core/lib/utils/extend.js","webpack://Keen/(webpack)/buildin/global.js","webpack://Keen/./lib/config-default.js","webpack://Keen/./node_modules/promise-polyfill/src/polyfill.js","webpack://Keen/./node_modules/promise-polyfill/src/finally.js","webpack://Keen/./lib/index.js","webpack://Keen/./node_modules/component-emitter/index.js","webpack://Keen/./node_modules/whatwg-fetch/fetch.js","webpack://Keen/./lib/utils/queue.js","webpack://Keen/./lib/extend-events.js","webpack://Keen/./lib/utils/deepExtend.js","webpack://Keen/./lib/utils/md5.js","webpack://Keen/./lib/helpers/getScreenProfile.js","webpack://Keen/./lib/helpers/getWindowProfile.js","webpack://Keen/./lib/helpers/getDomNodePath.js","webpack://Keen/./lib/helpers/getBasicDomNodeProfile.js","webpack://Keen/./node_modules/unique-selector/lib/isElement.js","webpack://Keen/./node_modules/promise-polyfill/src/index.js","webpack://Keen/./lib/browser.js","webpack://Keen/./node_modules/keen-core/lib/index.js","webpack://Keen/./node_modules/keen-core/lib/utils/parse-params.js","webpack://Keen/./node_modules/keen-core/lib/utils/serialize.js","webpack://Keen/./lib/utils/listener.js","webpack://Keen/./lib/record-events-browser.js","webpack://Keen/./node_modules/timers-browserify/main.js","webpack://Keen/./node_modules/setimmediate/setImmediate.js","webpack://Keen/./node_modules/node-libs-browser/node_modules/process/browser.js","webpack://Keen/./node_modules/keen-core/lib/utils/base64.js","webpack://Keen/./lib/utils/fetchRetry.js","webpack://Keen/./lib/utils/unique.js","webpack://Keen/./lib/utils/cache-browser.js","webpack://Keen/./lib/defer-events.js","webpack://Keen/./lib/browser-auto-tracking.js","webpack://Keen/./lib/event-sampler.js","webpack://Keen/./lib/helpers/getBrowserProfile.js","webpack://Keen/./lib/helpers/getDatetimeIndex.js","webpack://Keen/./lib/helpers/getDomainName.js","webpack://Keen/./lib/helpers/getDomNodeProfile.js","webpack://Keen/./node_modules/unique-selector/lib/index.js","webpack://Keen/./node_modules/unique-selector/lib/getID.js","webpack://Keen/./node_modules/unique-selector/lib/getClasses.js","webpack://Keen/./node_modules/unique-selector/lib/getCombinations.js","webpack://Keen/./node_modules/unique-selector/lib/getAttributes.js","webpack://Keen/./node_modules/unique-selector/lib/getNthChild.js","webpack://Keen/./node_modules/unique-selector/lib/getTag.js","webpack://Keen/./node_modules/unique-selector/lib/isUnique.js","webpack://Keen/./node_modules/unique-selector/lib/getParents.js","webpack://Keen/./lib/helpers/getDomNodeAttributes.js","webpack://Keen/./lib/helpers/getNParents.js","webpack://Keen/./lib/helpers/getScrollState.js","webpack://Keen/./lib/helpers/getUniqueId.js","webpack://Keen/./lib/utils/cookie.js","webpack://Keen/./node_modules/js-cookie/src/js.cookie.js","webpack://Keen/./lib/utils/serializeForm.js","webpack://Keen/./lib/utils/timer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cb","Array","length","target","arguments","prop","g","this","Function","e","window","configDefault","queue","capacity","interval","retry","limit","initialDelay","retryOnResponseStatuses","unique","cache","dbName","dbCollectionName","dbCollectionKey","maxAge","globalNS","self","global","Error","Promise","callback","constructor","then","resolve","reason","reject","KeenCore","helpers","on","client","extensions","events","collections","config","recordDeferredEvents","writeKey","str","String","referrerPolicy","setGlobalProperties","props","log","Emitter","obj","mixin","addEventListener","event","fn","_callbacks","push","once","off","apply","removeListener","removeAllListeners","removeEventListener","callbacks","splice","emit","args","len","slice","listeners","hasListeners","fetch","support","Blob","viewClasses","isDataView","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","indexOf","toString","Headers","append","normalizeName","normalizeValue","oldValue","map","has","set","forEach","thisArg","keys","items","iteratorFor","values","entries","iterator","methods","Request","clone","body","_bodyInit","Body","Response","status","statusText","headers","url","error","response","type","redirectStatuses","redirect","RangeError","location","input","init","request","xhr","XMLHttpRequest","onload","rawHeaders","options","getAllResponseHeaders","replace","split","line","parts","shift","trim","join","responseURL","responseText","onerror","TypeError","ontimeout","open","method","credentials","withCredentials","responseType","setRequestHeader","send","polyfill","test","toLowerCase","next","done","undefined","isArray","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","result","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","_initBody","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","arrayBuffer","text","readAsText","chars","fromCharCode","readArrayBufferAsText","formData","decode","json","JSON","parse","upcased","toUpperCase","referrer","form","bytes","decodeURIComponent","bodyInit","ok","configQueue","timer","check","shouldFlushQueue","flush","pause","clearInterval","start","setInterval","eventCollection","eventModifier","handleValidationError","eventsModifier","modifierResult","deepExtend","message","stringify","j","MD5","_","f","charCodeAt","charAt","M","V","h","md5_ii","md5_hh","md5_gg","md5_ff","safe_add","Y","X","md5_cmn","bit_rol","output","screen","orientation","innerWidth","innerHeight","html","document","documentElement","offsetHeight","offsetWidth","Math","max","scrollHeight","clientHeight","ratio","availHeight","parseFloat","toFixed","availWidth","el","nodeName","stack","parentNode","sibCount","sibIndex","childNodes","sib","hasAttribute","id","unshift","all_attrs","getDomNodeAttributes","EXCLUDE_VALUE_REGEX","unique_selector","class","getAttr","href","node_name","tag_name","tagName","title","getAttribute","_typeof","isElement","isElem","HTMLElement","nodeType","setTimeoutFunc","setTimeout","x","Boolean","noop","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","onFulfilled","onRejected","ret","newValue","finale","_unhandledRejectionFn","Handler","ex","prom","all","arr","remaining","res","val","race","setImmediate","err","console","warn","recordEvent","recordEvents","deferEvent","deferEvents","queueCapacity","queueInterval","extendEvent","extendEvents","initAutoTracking","getBrowserProfile","getDatetimeIndex","getDomainName","getDomNodePath","getDomNodeProfile","getScreenProfile","getScrollState","getUniqueId","getWindowProfile","listener","listenerCore","utils","cookie","serializeForm","listenTo","listenerHash","eventType","selector","keenGlobals","webpackKeenGlobals","Keen","extendLibrary","KeenTracking","previousKeen","env","each","extend","parseParams","serialize","Client","configure","debug","isDefined","resources","legacyVersion","enabled","loaded","version","source","previous","noConflict","ready","projectId","host","protocol","requestType","navigator","userAgent","masterKey","path","baseUrl","base","arg","readyState","DOMContentLoaded","testDom","domReady","match","urlParams","pl","search","query","exec","data","encodeURIComponent","addListener","attachEvent","ctx","eventHandler","evt","srcElement","domListeners","handlers","elem","nodeList","querySelectorAll","matches","survivors","handler","hash","eventCollectionOrConfigObject","eventBody","configObject","collection","checkValidation","extendedEventsHash","getExtendedEventBody","isUniqueResult","created","eventsHash","eventList","index","extendedEventBody","sendBeacon","getRequestUrl","api_key","base64","encode","modified","Date","getTime","appVersion","getUrlMaxLength","sendFetch","connectionError","responseJSON","error_code","checkEventsSavedSuccessfuly","filter","success","img","createElement","naturalHeight","naturalWidth","width","height","src","Timeout","clearFn","_id","_clearFn","scope","clearTimeout","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","process","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","script","onreadystatechange","removeChild","appendChild","random","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","marker","runClearTimeout","Item","array","browser","argv","versions","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","i1","i2","i3","e1","e2","e3","e4","utf8","isNaN","c2","c3","cc","retriesLimit","retryInitialDelay","retryOn","retriesCount","wrappedFetch","uniqueIds","isUnique","customCacheConfig","configCache","stringifiedEvent","hashingMethod","expiryTime","now","alreadySentEvent","find","storage","getFromCache","saveToCache","db","indexedDBAvailable","cachingEnabled","cacheConfig","initializeIndexedDb","requestCacheConfig","dbConnectionRequest","indexedDB","onupgradeneeded","objectStore","createObjectStore","keyPath","createIndex","onsuccess","configOptions","requestSave","transaction","add","indexCleanUp","upperBoundOpenKeyRange","IDBKeyRange","upperBound","openCursor","cursor","responseFromCache","transactionDelete","num","Number","clonedQueueConfig","clonedQueueEvents","lib","sampler","Sampler","ignoreDisabledFormFields","ignoreFormFieldTypes","recordClicks","recordFormSubmits","recordInputChanges","recordPageUnloads","recordPageViews","recordPageViewsOnExit","recordScrollState","shareUuidAcrossDomains","collectIpAddress","collectUuid","catchError","defaultDomElementOptions","recordTextContent","redactTextContent","domElementOptions","session_cookie","session_uuid","expire","shouldSample","uuid","prodperfectTestData","domainName","hostname","cookieDomain","domain","initialReferrer","tracker_loaded_at_time","toISOString","tracker_load_uuid_value","addons","ua_string","date_time","ip_address","ip","remove_ip_property","browserProfile","scrollState","event_uuid","iso_time_full","local_time_full","session","tracked_by","pkg","tracker_load_uuid","tracker_loaded_at","prodperfect_test_data","user","page","description","scroll_state","time_on_page","getSecondsSinceDate","time_on_page_ms","getMiliSecondsSinceDate","geo","user_agent","tech","profile","full","info","initial","time","local","utc","keen","timestamp","element","serializerOptions","disabled","ignoreTypes","fields","action","date","round","projectIdThrottleBlacklist","xijiKKCqPQzOl0EKa9ta0vmD","G6kGCgdy9JzppocYlPmUGpXU","NIKxOIAk2dsmlD88wgvNEK5S","uniqueId","parseInt","canBeThrottled","convertIdToInt","desiredSampleRateForProjectId","throttleRate","cookieEnabled","appCodeName","getDocumentDescription","language","appName","onLine","platform","querySelector","content","getHours","getDay","getDate","getMonth","getFullYear","extractHostname","splitArr","arrLen","n_parents","getNParents","nParents","text_content","getTextContent","getComputedStyle","getPropertyValue","x_position","offsetLeft","clientLeft","y_position","offsetTop","clientTop","textContent","default","_options$selectorType","selectorTypes","_options$attributesTo","attributesToIgnore","_options$excludeRegex","excludeRegex","allSelectors","parents","_getParents","getParents","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getUniqueSelector","return","selectors","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","it","_selector","_isUnique","_getID","_getClasses","_getCombinations","_getAttributes","_getNthChild","_getTag","testUniqueness","elements","getFirstUnique","getUniqueCombination","tag","combinations","getCombinations","firstUnique","combination","foundSelector","elementSelectors","funcs","getTag","getNthChild","getAttributes","getClassSelectors","getID","reduce","getAllSelectors","RegExp","ID","Class","className","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","selectorType","Tag","Classes","Attributes","NthChild","getClasses","classList","cl","kCombinations","end","k","_toConsumableArray","arr2","from","attributes","attrs","sum","counter","sibling","_isElement","elems","ownerDocument","currentElement","attributeNodes","node","parent","nth_parent","state","pixel","pixel_max","ratio_max","pageYOffset","scrollTop","getScrollableArea","crypto","getRandomValues","expires","secure","sameSite","Cookies","getJSON","daysUntilExpire","remove","factory","OldCookies","api","converter","defaults","toUTCString","write","escape","stringifiedAttributes","attributeName","jar","cookies","read","withConverter","serializer","hash_serializer","str_serialize","radio_store","k_r_success_contrls","k_r_submitter","checked","empty","selectOptions","isSelectedOptions","option","allowedEmpty","hasValue","selected","brackets","hash_assign","between","_values","string","children","parse_keys","existing","count","clear"],"mappings":"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","file":"keen-tracking.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = each;\n\nfunction each(o, cb, s){\n  var n;\n  if (!o){\n    return 0;\n  }\n  s = !s ? o : s;\n  if (o instanceof Array){\n    // Indexed arrays, needed for Safari\n    for (n=0; n<o.length; n++) {\n      if (cb.call(s, o[n], n, o) === false){\n        return 0;\n      }\n    }\n  } else {\n    // Hashtables\n    for (n in o){\n      if (o.hasOwnProperty(n)) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    }\n  }\n  return 1;\n}\n","module.exports = extend;\n\nfunction extend(target){\n  for (var i = 1; i < arguments.length; i++) {\n    for (var prop in arguments[i]){\n      target[prop] = arguments[i][prop];\n    }\n  }\n  return target;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export const configDefault = {\n\n  // defer events - queue\n  // https://github.com/keen/keen-tracking.js/blob/master/docs/defer-events.md\n  queue: {\n    capacity: 5000,\n    interval: 15,\n  },\n\n  // connection problems - retry request\n  retry: {\n    limit: 10,\n    initialDelay: 200,\n    retryOnResponseStatuses: [\n      408,\n      500,\n      502,\n      503,\n      504\n    ]\n  },\n\n  unique: false, // record only unique events?\n  // if so - store unique events hashes to compare\n  cache: {\n    /*\n      storage: 'indexeddb', // uncomment for persistence\n    */\n    dbName: 'keenTracking', // indexedDB name\n    dbCollectionName: 'events',\n    dbCollectionKey: 'hash',\n\n    /*\n      hashingMethod: 'md5', // if undefined - store as stringified JSON\n    */\n    maxAge: 60 * 1000, // store for 1 minute\n  }\n}\n\nexport default configDefault;\n","import Promise from './index';\nimport promiseFinally from './finally';\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!('Promise' in globalNS)) {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = promiseFinally;\n}\n","/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","import KeenCore from 'keen-core';\nimport each from 'keen-core/lib/utils/each';\nimport extend from 'keen-core/lib/utils/extend';\nimport { queue } from'./utils/queue';\n\nKeenCore.helpers = KeenCore.helpers || {};\n\n// Install internal queue\nKeenCore.on('client', function(client){\n  client.extensions = {\n    events: [],\n    collections: {}\n  };\n  client.queue = queue(client.config.queue);\n  client.queue.on('flush', function(){\n    client.recordDeferredEvents();\n  });\n});\n\n// Accessors\nKeenCore.prototype.writeKey = function(str){\n  if (!arguments.length) return this.config.writeKey;\n  this.config.writeKey = (str ? String(str) : null);\n  return this;\n};\n\nKeenCore.prototype.referrerPolicy = function(str){\n  if (!arguments.length) return this.config.referrerPolicy;\n  this.config.referrerPolicy = (str ? String(str) : null);\n  return this;\n};\n\n// DEPRECATED\nKeenCore.prototype.setGlobalProperties = function(props){\n  KeenCore.log('This method has been removed. Check out #extendEvents: https://github.com/keen/keen-tracking.js#extend-events');\n  return this;\n};\n\nexport default KeenCore;\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import Emitter from 'component-emitter';\n\nimport configDefault from '../config-default.js';\n\nexport function queue(configQueue = {}) {\n  if (this instanceof queue === false) {\n    return new queue(configQueue);\n  }\n  this.capacity = 0;\n  this.config = {\n    ...configDefault.queue,\n    ...configQueue\n  };\n  this.events = {\n    // \"collection-1\": [],\n    // \"collection-2\": []\n  };\n  this.interval = 0;\n  this.timer = null;\n  return this;\n}\n\nEmitter(queue.prototype);\n\nqueue.prototype.check = function() {\n  if (shouldFlushQueue(this)) {\n    this.flush();\n  }\n  if (this.config.interval === 0 || this.capacity === 0) {\n    this.pause();\n  }\n  return this;\n};\n\nqueue.prototype.flush = function() {\n  this.emit('flush');\n  this.interval = 0;\n  return this;\n};\n\nqueue.prototype.pause = function() {\n  if (this.timer) {\n    clearInterval(this.timer);\n    this.timer = null;\n  }\n  return this;\n};\n\nqueue.prototype.start = function() {\n  var self = this;\n  self.pause();\n  self.timer = setInterval(function() {\n    self.interval++;\n    self.check();\n  }, 1000);\n  return self;\n};\n\nfunction shouldFlushQueue(props) {\n  if (props.capacity > 0 && props.interval >= props.config.interval) {\n    return true;\n  }\n  else if (props.capacity >= props.config.capacity) {\n    return true;\n  }\n  return false;\n}\n","import { deepExtend } from './utils/deepExtend';\nimport each from 'keen-core/lib/utils/each';\n\nexport function extendEvent(eventCollection, eventModifier){\n  if (arguments.length !== 2 || typeof eventCollection !== 'string'\n    || ('object' !== typeof eventModifier && 'function' !== typeof eventModifier)) {\n      handleValidationError.call(this, 'Incorrect arguments provided to #extendEvent method');\n      return;\n  }\n  this.extensions.collections[eventCollection] = this.extensions.collections[eventCollection] || [];\n  this.extensions.collections[eventCollection].push(eventModifier);\n  this.emit('extendEvent', eventCollection, eventModifier);\n  return this;\n}\n\nexport function extendEvents(eventsModifier){\n  if (arguments.length !== 1 || ('object' !== typeof eventsModifier && 'function' !== typeof eventsModifier)) {\n    handleValidationError.call(this, 'Incorrect arguments provided to #extendEvents method');\n    return;\n  }\n  this.extensions.events.push(eventsModifier);\n  this.emit('extendEvents', eventsModifier);\n  return this;\n}\n\nfunction handleValidationError(message){\n  this.emit('error', `Event(s) not extended: ${message}`);\n}\n\nexport function getExtendedEventBody(result, queue){\n  if (queue && queue.length > 0) {\n    each(queue, function(eventModifier, i){\n      let modifierResult = (typeof eventModifier === 'function') ? eventModifier() : eventModifier;\n      deepExtend(result, modifierResult);\n    });\n  }\n  return result;\n}\n","export const deepExtend = function(target){\n  for (var i = 1; i < arguments.length; i++) {\n    // Copy unique items from incoming array\n    if (target instanceof Array && arguments[i] instanceof Array) {\n      for (var j = 0; j < arguments[i].length; j++) {\n        if (target.indexOf(arguments[i][j]) < 0) {\n          target.push(arguments[i][j]);\n        }\n      }\n    }\n    // Blend objects\n    else {\n      for (var prop in arguments[i]){\n        // Recurse when both contain objects of same name\n        // and incoming is not a null object\n        if (typeof target[prop] !== 'undefined'\n          && typeof arguments[i][prop] === 'object'\n          && arguments[i][prop] !== null) {\n            deepExtend(target[prop], clone(arguments[i][prop]));\n        }\n        // Otherwise just copy it over...\n        else if (\n          arguments[i][prop] !== undefined &&\n          typeof arguments[i][prop] !== 'function') {\n            target[prop] = clone(arguments[i][prop]);\n        }\n      }\n    }\n  }\n  return target;\n}\n\nfunction clone(input){\n  return JSON.parse( JSON.stringify(input) );\n}\n","export const MD5 = function(d){const result = M(V(Y(X(d),8*d.length)));return result.toLowerCase()};function M(d){for(var _,m=\"0123456789ABCDEF\",f=\"\",r=0;r<d.length;r++)_=d.charCodeAt(r),f+=m.charAt(_>>>4&15)+m.charAt(15&_);return f}function X(d){for(var _=Array(d.length>>2),m=0;m<_.length;m++)_[m]=0;for(m=0;m<8*d.length;m+=8)_[m>>5]|=(255&d.charCodeAt(m/8))<<m%32;return _}function V(d){for(var _=\"\",m=0;m<32*d.length;m+=8)_+=String.fromCharCode(d[m>>5]>>>m%32&255);return _}function Y(d,_){d[_>>5]|=128<<_%32,d[14+(_+64>>>9<<4)]=_;for(var m=1732584193,f=-271733879,r=-1732584194,i=271733878,n=0;n<d.length;n+=16){var h=m,t=f,g=r,e=i;f=md5_ii(f=md5_ii(f=md5_ii(f=md5_ii(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_ff(f=md5_ff(f=md5_ff(f=md5_ff(f,r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+0],7,-680876936),f,r,d[n+1],12,-389564586),m,f,d[n+2],17,606105819),i,m,d[n+3],22,-1044525330),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+4],7,-176418897),f,r,d[n+5],12,1200080426),m,f,d[n+6],17,-1473231341),i,m,d[n+7],22,-45705983),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+8],7,1770035416),f,r,d[n+9],12,-1958414417),m,f,d[n+10],17,-42063),i,m,d[n+11],22,-1990404162),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+12],7,1804603682),f,r,d[n+13],12,-40341101),m,f,d[n+14],17,-1502002290),i,m,d[n+15],22,1236535329),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+1],5,-165796510),f,r,d[n+6],9,-1069501632),m,f,d[n+11],14,643717713),i,m,d[n+0],20,-373897302),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+5],5,-701558691),f,r,d[n+10],9,38016083),m,f,d[n+15],14,-660478335),i,m,d[n+4],20,-405537848),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+9],5,568446438),f,r,d[n+14],9,-1019803690),m,f,d[n+3],14,-187363961),i,m,d[n+8],20,1163531501),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+13],5,-1444681467),f,r,d[n+2],9,-51403784),m,f,d[n+7],14,1735328473),i,m,d[n+12],20,-1926607734),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+5],4,-378558),f,r,d[n+8],11,-2022574463),m,f,d[n+11],16,1839030562),i,m,d[n+14],23,-35309556),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+1],4,-1530992060),f,r,d[n+4],11,1272893353),m,f,d[n+7],16,-155497632),i,m,d[n+10],23,-1094730640),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+13],4,681279174),f,r,d[n+0],11,-358537222),m,f,d[n+3],16,-722521979),i,m,d[n+6],23,76029189),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+9],4,-640364487),f,r,d[n+12],11,-421815835),m,f,d[n+15],16,530742520),i,m,d[n+2],23,-995338651),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+0],6,-198630844),f,r,d[n+7],10,1126891415),m,f,d[n+14],15,-1416354905),i,m,d[n+5],21,-57434055),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+12],6,1700485571),f,r,d[n+3],10,-1894986606),m,f,d[n+10],15,-1051523),i,m,d[n+1],21,-2054922799),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+8],6,1873313359),f,r,d[n+15],10,-30611744),m,f,d[n+6],15,-1560198380),i,m,d[n+13],21,1309151649),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+4],6,-145523070),f,r,d[n+11],10,-1120210379),m,f,d[n+2],15,718787259),i,m,d[n+9],21,-343485551),m=safe_add(m,h),f=safe_add(f,t),r=safe_add(r,g),i=safe_add(i,e)}return Array(m,f,r,i)}function md5_cmn(d,_,m,f,r,i){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,i)),r),m)}function md5_ff(d,_,m,f,r,i,n){return md5_cmn(_&m|~_&f,d,_,r,i,n)}function md5_gg(d,_,m,f,r,i,n){return md5_cmn(_&f|m&~f,d,_,r,i,n)}function md5_hh(d,_,m,f,r,i,n){return md5_cmn(_^m^f,d,_,r,i,n)}function md5_ii(d,_,m,f,r,i,n){return md5_cmn(m^(_|~f),d,_,r,i,n)}function safe_add(d,_){var m=(65535&d)+(65535&_);return(d>>16)+(_>>16)+(m>>16)<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_}\n\nexport default MD5;\n","export function getScreenProfile(){\n  var keys, output;\n\n  if ('undefined' == typeof window || !window.screen) return {};\n\n  keys = ['height', 'width', 'colorDepth', 'pixelDepth', 'availHeight', 'availWidth'];\n  output = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    output[keys[i]] = window.screen[keys[i]] ? window.screen[keys[i]] : null;\n  }\n\n  output.orientation = {\n    'angle' : window.screen.orientation ? window.screen.orientation['angle'] : 0,\n    'type'  : window.innerWidth > window.innerHeight ? 'landscape': 'portrait'\n  };\n\n  return output;\n}\n","export function getWindowProfile(){\n  var body, html, output;\n\n  if ('undefined' == typeof document) return {};\n\n  body = document.body;\n  html = document.documentElement;\n\n  output = {\n    'height': ('innerHeight' in window) ? window.innerHeight : document.documentElement.offsetHeight,\n    'width': ('innerWidth' in window) ? window.innerWidth : document.documentElement.offsetWidth,\n    'scrollHeight': Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight ) || null\n  };\n\n  if (window.screen) {\n    output.ratio = {\n      'height': (window.screen.availHeight) ? parseFloat( (window.innerHeight/window.screen.availHeight).toFixed(2) ) : null,\n      'width': (window.screen.availWidth) ? parseFloat( (window.innerWidth/window.screen.availWidth).toFixed(2) ) : null\n    };\n  }\n\n  return output;\n}\n\n/*\n  Notes:\n    document.documentElement.offsetHeight/Width is a workaround for IE8 and below, where window.innerHeight/Width is undefined\n*/\n","export function getDomNodePath(el){\n  if (!el.nodeName) return '';\n\n  var stack = [];\n  while ( el.parentNode != null ) {\n    // console.log(el.nodeName);\n    var sibCount = 0;\n    var sibIndex = 0;\n    for ( var i = 0; i < el.parentNode.childNodes.length; i++ ) {\n      var sib = el.parentNode.childNodes[i];\n      if ( sib.nodeName == el.nodeName ) {\n        if ( sib === el ) {\n          sibIndex = sibCount;\n        }\n        sibCount++;\n      }\n    }\n    if ( el.hasAttribute('id') && el.id != '' ) {\n      stack.unshift(el.nodeName.toLowerCase() + '#' + el.id);\n    } else if ( sibCount > 1 ) {\n      stack.unshift(el.nodeName.toLowerCase() + ':eq(' + sibIndex + ')');\n    } else {\n      stack.unshift(el.nodeName.toLowerCase());\n    }\n    el = el.parentNode;\n  }\n\n  return stack.slice(1).join(' > ');\n}\n\n\n// via: http://stackoverflow.com/a/16742828/2511985\n","import uniqueSelector from 'unique-selector';\n\nimport { getDomNodeAttributes } from './getDomNodeAttributes';\n\n// We don't want to capture any value-like attributes, to avoid\n// inadvertently grabbing PII.\nconst EXCLUDE_VALUE_REGEX = /^((?!value).)*$/;\n\nfunction getAttr(el, name) {\n  if (el.getAttribute) {\n    return el.getAttribute(name);\n  }\n  return null;\n}\n\nexport default function getBasicDomNodeProfile(el) {\n  let all_attrs = getDomNodeAttributes(el, EXCLUDE_VALUE_REGEX);\n\n  /**\n   * This is a short, unique CSS selector for quickly grabbing this node from the DOM.\n   * It serves a different purpose than a full node 'path', which potentially holds\n   * much more information about the DOM structure.\n   *\n   * NOTE(dabrady) We are putting this in the `all_attrs` blob out of a variety of\n   * concerns, but primarily because it will let us evalutate our use-case for this\n   * data faster and with minimal effort.\n   */\n  const unique_selector = uniqueSelector(el);\n  if (unique_selector) {\n    // Don't include unique_selector if it doesn't have a value.\n    all_attrs = { ...all_attrs, unique_selector };\n  }\n\n  return {\n    class: getAttr(el, 'class') || null,\n    href: (typeof el.href === 'object' ? null : el.href) || null,\n    id: getAttr(el, 'id') || null,\n    name: getAttr(el, 'name') || null,\n    all_attrs,\n    node_name: typeof el.nodeName === 'object' ? 'FORM' : el.nodeName,\n    tag_name: typeof el.tagName === 'object' ? 'FORM' : el.tagName,\n    text: getAttr(el, 'text'),\n    title: getAttr(el, 'title'),\n    type: getAttr(el, 'type'),\n  };\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.isElement = isElement;\n/**\n * Determines if the passed el is a DOM element\n */\nfunction isElement(el) {\n  var isElem = void 0;\n\n  if ((typeof HTMLElement === 'undefined' ? 'undefined' : _typeof(HTMLElement)) === 'object') {\n    isElem = el instanceof HTMLElement;\n  } else {\n    isElem = !!el && (typeof el === 'undefined' ? 'undefined' : _typeof(el)) === 'object' && el.nodeType === 1 && typeof el.nodeName === 'string';\n  }\n  return isElem;\n}","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","import KeenCore from './index';\nimport each from 'keen-core/lib/utils/each';\nimport extend from 'keen-core/lib/utils/extend';\nimport { listenerCore } from './utils/listener';\nimport {\n  recordEvent,\n  recordEvents\n} from './record-events-browser';\nimport {\n  deferEvent,\n  deferEvents,\n  queueCapacity,\n  queueInterval,\n  recordDeferredEvents\n} from './defer-events';\nimport { extendEvent, extendEvents } from './extend-events';\nimport initAutoTrackingCore from './browser-auto-tracking';\nimport { getBrowserProfile } from './helpers/getBrowserProfile';\nimport { getDatetimeIndex } from './helpers/getDatetimeIndex';\nimport { getDomainName } from './helpers/getDomainName';\nimport { getDomNodePath } from './helpers/getDomNodePath';\nimport getDomNodeProfile from './helpers/getDomNodeProfile';\nimport { getScreenProfile } from './helpers/getScreenProfile';\nimport { getScrollState } from './helpers/getScrollState';\nimport { getUniqueId } from './helpers/getUniqueId';\nimport { getWindowProfile } from './helpers/getWindowProfile';\nimport { cookie } from './utils/cookie';\nimport { deepExtend } from './utils/deepExtend';\nimport { serializeForm } from './utils/serializeForm';\nimport { timer } from './utils/timer';\n\n// ------------------------\n// Methods\n// ------------------------\nextend(KeenCore.prototype, {\n  recordEvent,\n  recordEvents\n});\n\nextend(KeenCore.prototype, {\n  deferEvent,\n  deferEvents,\n  queueCapacity,\n  queueInterval,\n  recordDeferredEvents\n});\nextend(KeenCore.prototype, {\n  extendEvent,\n  extendEvents\n});\n\n// ------------------------\n// Auto-Tracking\n// ------------------------\nconst initAutoTracking = initAutoTrackingCore(KeenCore);\nextend(KeenCore.prototype, {\n  initAutoTracking\n});\n\n// ------------------------\n// Helpers\n// ------------------------\nextend(KeenCore.helpers, {\n  getBrowserProfile,\n  getDatetimeIndex,\n  getDomainName,\n  getDomNodePath,\n  getDomNodeProfile,\n  getScreenProfile,\n  getScrollState,\n  getUniqueId,\n  getWindowProfile\n});\n\n// ------------------------\n// Utils\n// ------------------------\nconst listener = listenerCore(KeenCore);\nextend(KeenCore.utils, {\n  cookie,\n  deepExtend,\n  listener,\n  serializeForm,\n  timer\n});\n\nKeenCore.listenTo = (listenerHash) => {\n  each(listenerHash, (callback, key) => {\n    let split = key.split(' ');\n    let eventType = split[0],\n    selector = split.slice(1, split.length).join(' ');\n    // Create an unassigned listener\n    return listener(selector).on(eventType, callback);\n  });\n};\n\nexport let keenGlobals = undefined;\nif (typeof webpackKeenGlobals !== 'undefined') {\n  keenGlobals = webpackKeenGlobals;\n}\n\nexport const Keen = KeenCore.extendLibrary(KeenCore); // deprecated, left for backward compatibility\nexport const KeenTracking = Keen;\nexport default Keen;\n","(function(env){\n  var previousKeen = env.Keen || undefined;\n  var each = require('./utils/each'),\n      extend = require('./utils/extend'),\n      parseParams = require('./utils/parse-params'),\n      serialize = require('./utils/serialize');\n\n  var Emitter = require('component-emitter');\n\n  function Client(props){\n    if (this instanceof Client === false) {\n      return new Client(props);\n    }\n    this.configure(props);\n\n    // Set up event handling\n    if (Client.debug) {\n      this.on('error', Client.log);\n    }\n    this.emit('ready');\n    Client.emit('client', this);\n  }\n\n  if (previousKeen && typeof previousKeen.resources === 'undefined') {\n    Client.legacyVersion = previousKeen;\n  }\n\n  Emitter(Client);\n  Emitter(Client.prototype);\n\n  extend(Client, {\n    debug: false,\n    enabled: true,\n    loaded: false,\n    version: '__VERSION__'\n  });\n\n  // Set or extend helpers\n  Client.helpers = Client.helpers || {};\n\n  // Set or extend resources\n  Client.resources = Client.resources || {};\n  extend(Client.resources, {\n    'base'      : '{protocol}://{host}',\n    'version'   : '{protocol}://{host}/3.0',\n    'projects'  : '{protocol}://{host}/3.0/projects',\n    'projectId' : '{protocol}://{host}/3.0/projects/{projectId}',\n    'events'    : '{protocol}://{host}/3.0/projects/{projectId}/events',\n    'queries'   : '{protocol}://{host}/3.0/projects/{projectId}/queries'\n  });\n\n  // Set or extend utils\n  Client.utils = Client.utils || {};\n  extend(Client.utils, {\n    'each'        : each,\n    'extend'      : extend,\n    'parseParams' : parseParams,\n    'serialize'   : serialize\n  });\n\n  Client.extendLibrary = function(target, source) {\n    var previous = previousKeen || source;\n    if (isDefined(previous) && isDefined(previous.resources)) {\n      each(previous, function(value, key) {\n        if (typeof value === 'object') {\n          target[key] = target[key] || {};\n          extend(target[key], value);\n        }\n        else {\n          target[key] = target[key] || value;\n        }\n      });\n      extend(target.prototype, previous.prototype);\n    }\n    return target;\n  };\n\n  Client.log = function(str){\n    if (Client.debug && typeof console === 'object') {\n      console.log('[Keen]', str);\n    }\n  };\n\n  Client.noConflict = function(){\n    if (typeof env.Keen !== 'undefined') {\n      env.Keen = Client.legacyVersion || previousKeen;\n    }\n    return Client;\n  };\n\n  Client.ready = function(fn){\n    if (Client.loaded) {\n      fn();\n    }\n    else {\n      Client.once('ready', fn);\n    }\n  };\n\n  Client.prototype.configure = function(obj){\n    var config = obj || {};\n    this.config = this.config || {\n      projectId    : undefined,\n      writeKey     : undefined,\n      host         : 'api.keen.io',\n      protocol     : 'https',\n      requestType  : 'jsonp',\n      resources    : extend({}, Client.resources)\n    };\n\n    // IE<10 request shim\n    if (typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1) {\n      config.protocol = document.location.protocol.replace(':', '');\n    }\n\n    if (config.host) {\n      config.host.replace(/.*?:\\/\\//g, '');\n    }\n\n    extend(this.config, config);\n    return this;\n  };\n\n  Client.prototype.masterKey = function(str){\n    if (!arguments.length) return this.config.masterKey;\n    this.config.masterKey = str ? String(str) : null;\n    return this;\n  };\n\n  Client.prototype.projectId = function(str){\n    if (!arguments.length) return this.config.projectId;\n    this.config.projectId = (str ? String(str) : null);\n    return this;\n  };\n\n  Client.prototype.resources = function(obj){\n    if (!arguments.length) return this.config.resources;\n    var self = this;\n    if (typeof obj === 'object') {\n      each(obj, function(value, key){\n        self.config.resources[key] = (value ? value : null);\n      });\n    }\n    return self;\n  };\n\n  Client.prototype.url = function(name){\n    var args = Array.prototype.slice.call(arguments, 1),\n        baseUrl = this.config.resources.base || '{protocol}://{host}',\n        path;\n\n    if (name && typeof name === 'string') {\n      if (this.config.resources[name]) {\n        path = this.config.resources[name];\n      }\n      else {\n        path = baseUrl + name;\n      }\n    }\n    else {\n      path = baseUrl;\n    }\n\n    each(this.config, function(value, key){\n      if (typeof value !== 'object') {\n        path = path.replace('{' + key + '}', value);\n      }\n    });\n\n    each(args, function(arg, i){\n      if (typeof arg === 'string') {\n        path += '/' + arg;\n      }\n      else if (typeof arg === 'object') {\n        path += '?';\n        each(arg, function(value, key){\n          path += key + '=' + value + '&';\n        });\n        path = path.slice(0, -1);\n      }\n    });\n\n    return path;\n  };\n\n  domReady(function(){\n    Client.loaded = true;\n    Client.emit('ready');\n  });\n\n  function domReady(fn){\n    if (Client.loaded || typeof document === 'undefined') {\n      fn();\n      return;\n    }\n    // Firefox 3.5 shim\n    if(document.readyState == null && document.addEventListener){\n      document.addEventListener('DOMContentLoaded', function DOMContentLoaded(){\n        document.removeEventListener('DOMContentLoaded', DOMContentLoaded, false);\n        document.readyState = 'complete';\n      }, false);\n      document.readyState = 'loading';\n    }\n    testDom(fn);\n  }\n\n  function testDom(fn){\n    if (/in/.test(document.readyState)) {\n      setTimeout(function(){\n        testDom(fn);\n      }, 9);\n    }\n    else {\n      fn();\n    }\n  }\n\n  function isDefined(target) {\n    return typeof target !== 'undefined';\n  }\n\n  function isUndefined(target) {\n    return typeof target === 'undefined';\n  }\n\n  module.exports = Client;\n\n}).call(this, typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {});\n","module.exports = parseParams;\n\nfunction parseParams(str){\n  // via: http://stackoverflow.com/a/2880929/2511985\n  var urlParams = {},\n      match,\n      pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n      search = /([^&=]+)=?([^&]*)/g,\n      decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n      query  = str.split(\"?\")[1];\n\n  while (!!(match=search.exec(query))) {\n    urlParams[decode(match[1])] = decode(match[2]);\n  }\n  return urlParams;\n};\n","var each = require('./each'),\n    extend = require('./extend');\n\nmodule.exports = serialize;\n\nfunction serialize(data){\n  var query = [];\n  each(data, function(value, key){\n    if ('string' !== typeof value) {\n      value = JSON.stringify(value);\n    }\n    query.push(key + '=' + encodeURIComponent(value));\n  });\n  return query.join('&');\n}\n","import Emitter from 'component-emitter';\nimport each from 'keen-core/lib/utils/each';\n/*\n\n  // Create a new element listner\n  var myClickerCatcher = Keen.utils.listener(\".nav li > a\");\n\n  // Listen for a given event\n  myClicker.on(\"click\", function(e){\n    // do stuff!\n  });\n\n  // Listen for event once\n  myClicker.once(\"click\", function(e){ });\n\n  // Cancel a given event listener\n  myClicker.off(\"click\");\n\n  // Cancel all event listners\n  myClicker.off();\n\n*/\n\nexport const listenerCore = function(ctx){\n\n  // Make sure this object exists\n  ctx.domListeners = ctx.domListeners || {\n    /*\n    'click': {\n      '.nav li > a': [fn, fn, fn]\n    }\n    */\n  };\n\n  function listener(str){\n    if (!str) return;\n    if (this instanceof listener === false) {\n      return new listener(str);\n    }\n    this.selector = str;\n    return this;\n  }\n\n  listener.prototype.on = function(str, fn){\n    var self = this;\n\n    if (arguments.length !== 2 || 'string' !== typeof str || 'function' !== typeof fn) return this;\n\n    // Set each listener on a parent dictionary, indexed by event:\n    if ('undefined' === typeof ctx.domListeners[str]) {\n      addListener(str, eventHandler(str));\n      ctx.domListeners[str] = {};\n    }\n    ctx.domListeners[str][self.selector] = ctx.domListeners[str][self.selector] || [];\n    ctx.domListeners[str][self.selector].push(fn);\n    return self;\n  };\n\n  listener.prototype.once = function(str, fn){\n    var self = this;\n    function on() {\n      self.off(str, on);\n      return fn.apply(self, arguments);\n    }\n    on.fn = fn;\n    self.on(str, on);\n    return self;\n  };\n\n  listener.prototype.off = function(str, fn){\n    var self = this, survivors = [];\n    if (arguments.length === 2) {\n      each(ctx.domListeners[str][self.selector], function(handler, i){\n        if (handler === fn || handler.fn === fn) return;\n        survivors.push(handler);\n      });\n      ctx.domListeners[str][self.selector] = survivors;\n    }\n    else if (arguments.length === 1) {\n      try {\n        delete ctx.domListeners[str][self.selector];\n      }\n      catch(e){\n        ctx.domListeners[str][self.selector] = [];\n      }\n    }\n    else {\n      // loop over every eventType and delete handlers\n      each(ctx.domListeners, function(hash, eventType){\n        // if ('undefined' === typeof hash[str]) return;\n        try {\n          delete ctx.domListeners[eventType][self.selector];\n        }\n        catch(e){\n          ctx.domListeners[eventType][self.selector] = function(){};\n        }\n      });\n    }\n    return self;\n  };\n\n  function eventHandler(eventType){\n    return function(e){\n      var evt, target;\n\n      evt = e || window.event;\n      target = evt.target || evt.srcElement;\n\n      // If nothing assigned to this event type, let it go\n      if ('undefined' === ctx.domListeners[eventType]) return;\n\n      each(ctx.domListeners[eventType], function(handlers, key){\n\n        if (matches(target, key)) {\n          // Call all handlers for this eventType + node\n          each(handlers, function(fn, i){\n            fn(evt);\n          });\n        }\n        else if ('window' === key) {\n          // Call all handlers\n          each(handlers, function(fn, i){\n            fn(evt);\n          });\n        }\n        return;\n      });\n    };\n  }\n\n  return listener;\n}\n\n\n// ------------------------------\n// Attach global event listener\n// ------------------------------\n\nfunction addListener(eventType, fn){\n  if (document.addEventListener) {\n    document.addEventListener(eventType, fn, false);\n  } else {\n    document.attachEvent(\"on\" + eventType, fn);\n  }\n}\n\n\n// ------------------------------\n// Match DOM element to selector\n// ------------------------------\n\nfunction matches(elem, selector) {\n  // We'll use querySelectorAll to find all element matching the selector,\n  // then check if the given element is included in that list.\n  // Executing the query on the parentNode reduces the resulting nodeList,\n  // document doesn't have a parentNode, though.\n  var nodeList = ( elem.parentNode || document ).querySelectorAll( selector ) || [],\n      i = nodeList.length;\n\n  // loop on the nodeList\n  while ( i-- ) {\n    if ( nodeList[i] == elem ) { return true; }\n  }\n  return false;\n}\n","import 'promise-polyfill/src/polyfill';\nimport 'whatwg-fetch';\n\nimport base64 from 'keen-core/lib/utils/base64';\nimport each from 'keen-core/lib/utils/each';\nimport extend from 'keen-core/lib/utils/extend';\n\nimport Keen from './index';\nimport { getExtendedEventBody } from './extend-events';\nimport fetchRetry from './utils/fetchRetry';\nimport isUnique from './utils/unique';\n\n// ------------------------------\n// .recordEvent\n// ------------------------------\n\nexport function recordEvent(eventCollectionOrConfigObject, eventBody, callback){\n  let eventCollection = eventCollectionOrConfigObject;\n  let useBeaconApi = false;\n  let unique;\n  let configObject;\n  let clientConfig = this.config;\n\n  if (typeof eventCollectionOrConfigObject === 'object'\n    && eventCollectionOrConfigObject) {\n    // slowly but surely we migrate to one object with all args\n    configObject = eventCollectionOrConfigObject;\n    eventCollection = eventCollectionOrConfigObject.collection;\n    eventBody = eventCollectionOrConfigObject.event;\n    callback = eventCollectionOrConfigObject.callback;\n    unique = eventCollectionOrConfigObject.unique;\n  }\n\n  const url = this.url('events', encodeURIComponent(eventCollection));\n  let data = {};\n\n  if (!checkValidation.call(this, callback)) {\n    return;\n  }\n\n  if (!eventCollection || typeof eventCollection !== 'string') {\n    handleValidationError.call(this, 'Collection name must be a string.', callback);\n    return;\n  }\n\n  extend(data, eventBody);\n\n  // ------------------------------\n  // Run extendEvent(s) transforms\n  // ------------------------------\n  const extendedEventsHash = {};\n  getExtendedEventBody(extendedEventsHash, this.extensions.events);\n  getExtendedEventBody(extendedEventsHash, this.extensions.collections[eventCollection]);\n  getExtendedEventBody(extendedEventsHash, [data]);\n\n  if (unique) {\n    return isUnique(configObject, extendedEventsHash).then(isUniqueResult => {\n      if (!isUniqueResult) {\n        return Promise.resolve({\n          created: false,\n          message: '[NOT_UNIQUE] This event has already been recorded'\n        });\n      }\n      return recordEvent.call(this, { ...eventCollectionOrConfigObject, unique: undefined });\n    });\n  }\n\n  this.emit('recordEvent', eventCollection, extendedEventsHash);\n\n  if (!Keen.enabled) {\n    handleValidationError.call(this, 'Keen.enabled is set to false.', callback);\n    return false;\n  }\n\n  return send.call(this, { url, extendedEventsHash, callback, configObject, eventCollection });\n}\n\n// ------------------------------\n// .recordEvents\n// ------------------------------\n\nexport function recordEvents(eventsHash, callback){\n  const self = this;\n  const url = this.url('events');\n\n  if (!checkValidation.call(this, callback)) {\n    return;\n  }\n\n  if ('object' !== typeof eventsHash || eventsHash instanceof Array) {\n    handleValidationError.call(this, 'First argument must be an object', callback );\n    return;\n  }\n\n  if (arguments.length > 2) {\n    handleValidationError.call(this, 'Incorrect arguments provided to #recordEvents method', callback);\n    return;\n  }\n\n  // ------------------------------\n  // Run extendEvent(s) transforms\n  // ------------------------------\n  const extendedEventsHash = {};\n  each(eventsHash, function(eventList, eventCollection){\n    // Find or create collection on new hash\n    extendedEventsHash[eventCollection] = extendedEventsHash[eventCollection] || [];\n    // Loop over each eventBody in the existing hash\n    each(eventList, function(eventBody, index){\n      // Create a new data object\n      let extendedEventBody = {};\n      // Process \"events\" transform pipeline\n      getExtendedEventBody(extendedEventBody, self.extensions.events);\n      // Process \"collection\" transform pipeline\n      getExtendedEventBody(extendedEventBody, self.extensions.collections[eventCollection]);\n      // Blend existing eventBody data into the result\n      getExtendedEventBody(extendedEventBody, [eventBody]);\n      // Push extendedEventBody into new hash\n      extendedEventsHash[eventCollection].push(extendedEventBody);\n    });\n  });\n\n  this.emit('recordEvents', extendedEventsHash);\n\n  if (!Keen.enabled) {\n    handleValidationError.call(this, 'Keen.enabled is set to false.', callback);\n    return false;\n  }\n\n  return send.call(this, { url, extendedEventsHash, callback });\n}\n\nfunction send({ url, extendedEventsHash, callback, configObject = {}, eventCollection}){\n  const clientConfig = this.config;\n  const requestType = configObject.requestType // specific method for one request\n    || this.config.requestType; // global request type of client\n\n  if (\n    navigator && navigator.sendBeacon &&\n    (requestType === 'beaconAPI' || requestType === 'beacon')\n      // so you can send specific recordEvent() using beaconAPI\n      // even if your global client's config prefers Fetch\n  ) {\n    navigator.sendBeacon(\n      `${url}?api_key=${this.writeKey()}`,\n      JSON.stringify(extendedEventsHash)\n    );\n    if (callback) {\n      // Beacon API is not handling responses nor errors\n      callback();\n    }\n    return this;\n  }\n\n  // this is IMAGE beacon, not the Beacon API. deprecated\n  if (requestType === 'beacon' || requestType === 'img') {\n    const getRequestUrl = this.url('events', encodeURIComponent(eventCollection), {\n      api_key  : this.writeKey(),\n      data     : encodeURIComponent( base64.encode( JSON.stringify(extendedEventsHash) ) ),\n      modified : new Date().getTime()\n    });\n    const getRequestUrlOkLength = getRequestUrl.length < getUrlMaxLength();\n\n    if (getRequestUrlOkLength) {\n      sendBeacon.call(this, getRequestUrl, callback);\n    }\n    else {\n      if (callback) {\n        callback('Beacon URL length exceeds current browser limit, and XHR is not supported.', null);\n      }\n    }\n    return this;\n  }\n\n  if (typeof fetch !== 'undefined') {\n    return sendFetch.call(this, 'POST', url, extendedEventsHash, callback);\n  }\n\n  return this;\n}\n\nfunction sendFetch(method, url, data, callback = undefined){\n  const self = this;\n\n  return fetchRetry(url, {\n      method,\n      body: data ? JSON.stringify(data) : '',\n      mode: 'cors',\n      redirect: 'follow',\n      referrerPolicy: self.referrerPolicy() || 'unsafe-url',\n      headers: {\n        'Authorization': self.writeKey(),\n        'Content-Type': 'application/json'\n      },\n      // keepalive: true, not supported for CORS yet\n      retry: self.config.retry\n    })\n    .catch(connectionError => {\n      if (typeof callback !== 'undefined') {\n        callback.call(self, connectionError, null);\n      }\n      self.emit('error', connectionError);\n      return Promise.reject(connectionError);\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return response.json().then(responseJSON => {\n        return Promise.reject({\n          error_code: responseJSON.error_code,\n          body: responseJSON.message,\n          status: response.status,\n          ok: false,\n          statusText: response.statusText\n        });\n      });\n    }).then(responseJSON => {\n      const eventsSavedSuccessfuly = checkEventsSavedSuccessfuly(responseJSON);\n      if (eventsSavedSuccessfuly) {\n        if (typeof callback !== 'undefined') {\n          callback.call(self, null, responseJSON);\n        }\n        return Promise.resolve(responseJSON);\n      } else {\n        if (typeof callback !== 'undefined') {\n          callback.call(self, responseJSON, null);\n        }\n        self.emit('error', responseJSON);\n        return Promise.reject(responseJSON);\n      }\n    });\n}\n\nfunction checkEventsSavedSuccessfuly(response){\n  // single event\n  if (typeof response.created !== 'undefined') {\n    if (response.created) {\n      return true;\n    }\n    return false;\n  }\n  // multiple events\n  const responseKeys = Object.keys(response);\n  const notSavedEvents = responseKeys\n    .map(collection => {\n      return response[collection].filter(event => !event.success);\n    })\n    .filter(collection => collection.length > 0);\n\n  if (notSavedEvents.length === 0) {\n    return true;\n  }\n\n  return false;\n}\n\n// Validation\nfunction checkValidation(callback){\n\n  if (!this.projectId()) {\n    handleValidationError.call(this, 'Keen.Client is missing a projectId property.', callback);\n    return false;\n  }\n  if (!this.writeKey()) {\n    handleValidationError.call(this, 'Keen.Client is missing a writeKey property.', callback);\n    return false;\n  }\n  return true;\n}\n\nfunction handleValidationError(message, callback){\n  const err = `Event(s) not recorded: ${message}`;\n  this.emit('error', err);\n  if (callback) {\n    callback.call(this, err, null);\n  }\n}\n\nfunction getUrlMaxLength(){\n  if ('undefined' !== typeof window && navigator) {\n    if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > 0) {\n      return 1900;\n    }\n  }\n  return 16000;\n}\n\n/*\n  DEPRECATED METHODS\n*/\n\n// Image Beacon Requests\n// DEPRECATED\nfunction sendBeacon(url, callback){\n  var self = this,\n      img = document.createElement('img'),\n      loaded = false;\n\n  img.onload = function() {\n    loaded = true;\n    if ('naturalHeight' in this) {\n      if (this.naturalHeight + this.naturalWidth === 0) {\n        this.onerror();\n        return;\n      }\n    } else if (this.width + this.height === 0) {\n      this.onerror();\n      return;\n    }\n    if (callback) {\n      callback.call(self);\n    }\n  };\n  img.onerror = function() {\n    loaded = true;\n    if (callback) {\n      callback.call(self, 'An error occurred!', null);\n    }\n  };\n  img.src = url + '&c=clv1';\n}\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = {\n  map: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n  encode: function (n) {\n    \"use strict\";\n    var o = \"\", i = 0, m = this.map, i1, i2, i3, e1, e2, e3, e4;\n    n = this.utf8.encode(n);\n    while (i < n.length) {\n      i1 = n.charCodeAt(i++); i2 = n.charCodeAt(i++); i3 = n.charCodeAt(i++);\n      e1 = (i1 >> 2); e2 = (((i1 & 3) << 4) | (i2 >> 4)); e3 = (isNaN(i2) ? 64 : ((i2 & 15) << 2) | (i3 >> 6));\n      e4 = (isNaN(i2) || isNaN(i3)) ? 64 : i3 & 63;\n      o = o + m.charAt(e1) + m.charAt(e2) + m.charAt(e3) + m.charAt(e4);\n    } return o;\n  },\n  decode: function (n) {\n    \"use strict\";\n    var o = \"\", i = 0, m = this.map, cc = String.fromCharCode, e1, e2, e3, e4, c1, c2, c3;\n    n = n.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n    while (i < n.length) {\n      e1 = m.indexOf(n.charAt(i++)); e2 = m.indexOf(n.charAt(i++));\n      e3 = m.indexOf(n.charAt(i++)); e4 = m.indexOf(n.charAt(i++));\n      c1 = (e1 << 2) | (e2 >> 4); c2 = ((e2 & 15) << 4) | (e3 >> 2);\n      c3 = ((e3 & 3) << 6) | e4;\n      o = o + (cc(c1) + ((e3 != 64) ? cc(c2) : \"\")) + (((e4 != 64) ? cc(c3) : \"\"));\n    } return this.utf8.decode(o);\n  },\n  utf8: {\n    encode: function (n) {\n      \"use strict\";\n      var o = \"\", i = 0, cc = String.fromCharCode, c;\n      while (i < n.length) {\n        c = n.charCodeAt(i++); o = o + ((c < 128) ? cc(c) : ((c > 127) && (c < 2048)) ?\n        (cc((c >> 6) | 192) + cc((c & 63) | 128)) : (cc((c >> 12) | 224) + cc(((c >> 6) & 63) | 128) + cc((c & 63) | 128)));\n        } return o;\n    },\n    decode: function (n) {\n      \"use strict\";\n      var o = \"\", i = 0, cc = String.fromCharCode, c2, c;\n      while (i < n.length) {\n        c = n.charCodeAt(i);\n        o = o + ((c < 128) ? [cc(c), i++][0] : ((c > 191) && (c < 224)) ?\n        [cc(((c & 31) << 6) | ((c2 = n.charCodeAt(i + 1)) & 63)), (i += 2)][0] :\n        [cc(((c & 15) << 12) | (((c2 = n.charCodeAt(i + 1)) & 63) << 6) | ((c3 = n.charCodeAt(i + 2)) & 63)), (i += 3)][0]);\n      } return o;\n    }\n  }\n};\n","import 'promise-polyfill/src/polyfill';\nimport 'whatwg-fetch';\n\nimport configDefault from '../config-default.js';\n\nexport default function(url, options) {\n  const config = {\n    ...configDefault,\n    ...(options.retry || {})\n  };\n\n  const retriesLimit = config.retry.limit;\n  const retryInitialDelay = config.retry.initialDelay;\n  const retryOn = config.retry.retryOnResponseStatuses;\n  let retriesCount = 0;\n\n  if (retryOn && !(retryOn instanceof Array)) {\n    throw {\n      name: 'ArgumentError',\n      message: 'retryOn property expects an array'\n    }\n  }\n\n  return new Promise(function(resolve, reject) {\n    const wrappedFetch = function(n) {\n      fetch(url, options)\n        .then(function(response) {\n          if (retryOn.indexOf(response.status) === -1) {\n            resolve(response);\n          } else {\n            if (n > 0) {\n              retry();\n            } else {\n              reject(response);\n            }\n          }\n        })\n        .catch(function(error) {\n          if (n > 0) {\n            retry();\n          } else {\n            reject(error);\n          }\n        });\n    };\n\n    function retry() {\n      retriesCount = retriesCount + 1;\n      setTimeout(function() {\n          wrappedFetch(retriesLimit - retriesCount);\n        }, 2^retriesCount * retryInitialDelay);\n    }\n\n    wrappedFetch(retriesLimit - retriesCount);\n  });\n};\n","import 'promise-polyfill/src/polyfill';\n\nimport md5 from './md5';\nimport { getFromCache, saveToCache } from './cache-browser';\n\nimport configDefault from '../config-default.js';\n\nlet uniqueIds = [];\n\nexport const isUnique = (customCacheConfig, extendedEventBody) => {\n  const configCache = { ...configDefault.cache, ...customCacheConfig.cache };\n  const stringifiedEvent = JSON.stringify(extendedEventBody);\n  const { hashingMethod } = configCache;\n  const hash = hashingMethod && hashingMethod.toLowerCase() === 'md5'\n    ? md5(stringifiedEvent) : stringifiedEvent;\n  const expiryTime = configCache.maxAge ? (Date.now() + configCache.maxAge) : undefined;\n  const item = {\n    hash,\n    expiryTime\n  };\n  if (expiryTime){\n    const now = Date.now();\n    uniqueIds = uniqueIds.filter(item => item.expiryTime > now);\n  }\n\n  const alreadySentEvent = uniqueIds.find(item => item.hash === hash);\n  if (alreadySentEvent) {\n    if (alreadySentEvent.expiryTime && alreadySentEvent.expiryTime < Date.now()) {\n      uniqueIds = uniqueIds.filter(item => item.hash !== hash);\n    } else {\n      return Promise.resolve(false);\n    }\n  }\n  uniqueIds.push(item);\n  if (configCache.storage && configCache.storage.toLowerCase() === 'indexeddb') {\n    return getFromCache(hash, configCache).then(alreadySentEvent => {\n      if (alreadySentEvent) {\n        return false;\n      }\n      saveToCache(hash, configCache);\n      return true;\n    });\n  }\n\n  return Promise.resolve(true);\n}\n\nexport default isUnique;\n","import 'promise-polyfill/src/polyfill';\nimport 'whatwg-fetch';\n\nimport md5 from './md5';\n\nimport configDefault from '../config-default.js';\n\nif (typeof self === 'undefined') {\n  throw 'IndexedDB is available only in Browser ENV';\n}\n\nconst indexedDBAvailable = 'indexedDB' in self;\nlet cachingEnabled = true;\n\nif (!indexedDBAvailable) {\n    // console.log(\"Your browser doesn't support a stable version of IndexedDB.\");\n    cachingEnabled = false; // graceful degradation\n}\n\nlet db;\nlet cacheConfig = {\n  ...configDefault.cache\n};\n\nfunction initializeIndexedDb(requestCacheConfig = {}){\n  if (db) { return Promise.resolve(); }\n  if (!cachingEnabled) { return Promise.resolve(); }\n  cacheConfig = {\n    ...cacheConfig,\n    ...requestCacheConfig\n  };\n  return new Promise((resolve, reject) => {\n    const dbConnectionRequest = self.indexedDB.open(cacheConfig.dbName);\n    dbConnectionRequest.onerror = function(event) {\n      cachingEnabled = false;\n      resolve();\n    };\n\n    dbConnectionRequest.onupgradeneeded = function(event) {\n      const db = event.target.result;\n      const objectStore = db\n        .createObjectStore(cacheConfig.dbCollectionName,\n          { keyPath: cacheConfig.dbCollectionKey });\n      objectStore.createIndex(\n        cacheConfig.dbCollectionKey,\n        cacheConfig.dbCollectionKey,\n        { unique: true }\n      );\n      objectStore.createIndex('expiryTime', 'expiryTime', { unique: false });\n    };\n\n    dbConnectionRequest.onsuccess = function(event) {\n      db = event.target.result;\n      db.onerror = function(event) {\n        cachingEnabled = false; // graceful degradation\n      };\n      resolve(db);\n    };\n  });\n}\n\nexport const saveToCache = (hash, configOptions = {}) => {\n  return initializeIndexedDb(configOptions).then(() => {\n    const transactionSave = db\n      .transaction(cacheConfig.dbCollectionName, \"readwrite\")\n      .objectStore(cacheConfig.dbCollectionName);\n    const requestSave = transactionSave.add({\n      hash,\n      expiryTime: Date.now() + cacheConfig.maxAge\n    });\n    requestSave.onsuccess = function(event) {\n    };\n    requestSave.onerror = function(event) {\n      cachingEnabled = false;\n    };\n  });\n}\n\nexport const getFromCache = (hash, configOptions = {}) => {\n  return initializeIndexedDb(configOptions).then(() => {\n    return new Promise((resolve, reject) => {\n      if (!cachingEnabled) {\n        return resolve(null);\n      }\n\n      const transactionCleanUp = db\n        .transaction(cacheConfig.dbCollectionName, \"readwrite\")\n        .objectStore(cacheConfig.dbCollectionName);\n      const indexCleanUp = transactionCleanUp.index('expiryTime');\n      const upperBoundOpenKeyRange = IDBKeyRange.upperBound(Date.now(), true);\n      indexCleanUp.openCursor(upperBoundOpenKeyRange).onsuccess = function(event) {\n        let cursor = event.target.result;\n        if (cursor) {\n          let transactionDelete = db\n            .transaction(cacheConfig.dbCollectionName, \"readwrite\")\n            .objectStore(cacheConfig.dbCollectionName)\n            .delete(event.target.result.value[cacheConfig.dbCollectionKey]);\n          cursor.continue();\n        }\n      };\n\n      const transactionIndex = db\n        .transaction(cacheConfig.dbCollectionName, \"readwrite\")\n        .objectStore(cacheConfig.dbCollectionName);\n      const index = transactionIndex.index(cacheConfig.dbCollectionKey);\n      const responseFromCache = index.get(hash);\n      responseFromCache.onsuccess = function(event) {\n        if (!event.target.result ||\n          event.target.result.expiryTime < Date.now()\n        ) {\n          if (event.target.result && event.target.result.expiryTime < Date.now()){\n            const transactionDelete = db\n              .transaction(cacheConfig.dbCollectionName, \"readwrite\")\n              .objectStore(cacheConfig.dbCollectionName)\n              .delete(event.target.result[cacheConfig.dbCollectionKey]);\n            transactionDelete.onsuccess = (event) => {\n              resolve(getFromCache(hash, configOptions));\n            };\n            transactionDelete.onerror = (event) => {\n              cachingEnabled = false;\n              resolve(getFromCache(hash, configOptions));\n            };\n            return resolve(null);\n          }\n          return resolve(null);\n        } else {\n          return resolve(event.target.result);\n        }\n      };\n      responseFromCache.onerror = function(event) {\n        cachingEnabled = false;\n        resolve(getFromCache(hash, configOptions));\n      };\n    });\n  });\n}\n","import Keen from './index';\nimport each from 'keen-core/lib/utils/each';\nimport { queue } from './utils/queue';\n\nexport function deferEvent(eventCollection, eventBody){\n\n  if (arguments.length !== 2 || typeof eventCollection !== 'string') {\n    handleValidationError.call(this, 'Incorrect arguments provided to #deferEvent method');\n    return;\n  }\n\n  this.queue.events[eventCollection] = this.queue.events[eventCollection] || [];\n  this.queue.events[eventCollection].push(eventBody);\n  this.queue.capacity++;\n  if (!this.queue.timer) {\n    this.queue.start();\n  }\n  this.emit('deferEvent', eventCollection, eventBody);\n  return this;\n}\n\nexport function deferEvents(eventsHash){\n  var self = this;\n\n  if (arguments.length !== 1 || typeof eventsHash !== 'object') {\n    handleValidationError.call(this, 'Incorrect arguments provided to #deferEvents method');\n    return;\n  }\n\n  each(eventsHash, function(eventList, eventCollection){\n    self.queue.events[eventCollection] = self.queue.events[eventCollection] || [];\n    self.queue.events[eventCollection] = self.queue.events[eventCollection].concat(eventList);\n    self.queue.capacity = self.queue.capacity + eventList.length;\n    if (!self.queue.timer) {\n      self.queue.start();\n    }\n  });\n  self.emit('deferEvents', eventsHash);\n  return self;\n}\n\nexport function queueCapacity(num){\n  if (!arguments.length) return this.queue.config.capacity;\n  this.queue.config.capacity = num ? Number(num): 0;\n  this.queue.check();\n  return this;\n}\n\nexport function queueInterval(num){\n  if (!arguments.length) return this.queue.config.interval;\n  this.queue.config.interval = num ? Number(num): 0;\n  this.queue.check();\n  return this;\n}\n\nexport function recordDeferredEvents(){\n  const self = this;\n\n  if (self.queue.capacity > 0) {\n    self.queue.pause();\n    let clonedQueueConfig = { ...self.queue.config };\n    let clonedQueueEvents = { ...self.queue.events };\n    self.queue = queue();\n    self.queue.config = clonedQueueConfig;\n    self.queue.on('flush', function(){\n      self.recordDeferredEvents();\n    });\n    self.emit('recordDeferredEvents', clonedQueueEvents);\n    self.recordEvents(clonedQueueEvents, (err, res) => {\n      if (err) {\n        self.emit('recordDeferredEventsError', err, clonedQueueEvents);\n      }\n    });\n  }\n  return self;\n}\n\nexport function unloadDeferredEvents(){\n  self.queue.pause();\n  each(self.queue.events, function(events, collection){\n    self.recordEvent(collection, events);\n  });\n}\n\nfunction handleValidationError(message){\n  this.emit('error', `Event(s) not deferred: ${message}`);\n}\n","import pkg from '../package.json';\nimport Sampler from './event-sampler';\n\nexport default function initAutoTrackingCore(lib) {\n  return function init(obj = {}) {\n    const client = this;\n    const sampler = new Sampler(client);\n\n    const { helpers, utils } = lib;\n\n    const options = utils.extend({\n      ignoreDisabledFormFields: false,\n      ignoreFormFieldTypes: ['password'],\n      recordClicks: true,\n      recordFormSubmits: true,\n      recordInputChanges: false,\n      recordPageUnloads: false,\n      recordPageViews: true,\n      recordPageViewsOnExit: false,\n      recordScrollState: true,\n      shareUuidAcrossDomains: false,\n      collectIpAddress: true,\n      collectUuid: true,\n      catchError: undefined // optional, function(someError) - error handler\n    }, obj);\n\n    const defaultDomElementOptions = {\n      recordTextContent: true,\n      redactTextContent: true\n    }\n\n    options.domElementOptions = utils.extend(defaultDomElementOptions, obj.domElementOptions);\n\n    if (client.config.requestType === 'beaconAPI' && options.catchError) {\n      throw `You cannot use the BeaconAPI and catchError function in the same time, because BeaconAPI ignores errors. For requests with error handling - use requestType: 'fetch'`;\n      return;\n    }\n\n    if (\n      client.config.requestType === 'jsonp' // jsonp is deprecated, it's the default value from old keen's client\n    ) {\n      if (options.catchError) {\n        client.config.requestType = 'fetch';\n      } else {\n        client.config.requestType = 'beaconAPI';\n      }\n    }\n\n    const session_cookie = new utils.cookie('prodperfect_session');\n    let session_uuid = session_cookie.get('session_uuid');\n    if (!session_uuid) {\n      session_uuid = helpers.getUniqueId();\n    }\n    session_cookie.set('session_uuid', session_uuid);\n    session_cookie.expire(1 / 48);\n\n    if (!sampler.shouldSample(session_uuid)) {\n      // Short-circuit here so that no event listeners are set up.\n      // This way we don't send any traffic to our servers,\n      // Thereby effectively throttling overall uploaded data from this customer.\n\n      return;\n    }\n\n    const prodperfectTestData = new utils.cookie('prodperfect_test').get('test_run_data');\n\n    const now = new Date();\n    const cookie = new utils.cookie('keen');\n\n    const domainName = helpers.getDomainName(window.location.hostname);\n    const cookieDomain = domainName && options.shareUuidAcrossDomains ? {\n      domain: '.' + domainName\n    } : {};\n\n    let uuid;\n    if (options.collectUuid) {\n      uuid = cookie.get('uuid');\n      if (!uuid) {\n        uuid = helpers.getUniqueId();\n        cookie.set('uuid', uuid, cookieDomain);\n      }\n    }\n\n    let initialReferrer = cookie.get('initialReferrer');\n    if (!initialReferrer){\n      initialReferrer = document && document.referrer || undefined;\n      cookie.set('initialReferrer', initialReferrer, cookieDomain);\n    }\n\n    const tracker_loaded_at_time = now.toISOString();\n    const tracker_load_uuid_value = helpers.getUniqueId();\n\n    const addons = [\n      {\n        name: 'keen:ua_parser',\n        input: {\n          ua_string: 'user_agent'\n        },\n        output: 'tech'\n      },\n      {\n        name: 'keen:url_parser',\n        input: {\n          url: 'url.full'\n        },\n        output: 'url.info'\n      },\n      {\n        name: 'keen:url_parser',\n        input: {\n          url: 'referrer.full'\n        },\n        output: 'referrer.info'\n      },\n      {\n        name: 'keen:date_time_parser',\n        input: {\n          date_time: 'keen.timestamp'\n        },\n        output: 'time.utc'\n      },\n      {\n        name: 'keen:date_time_parser',\n        input: {\n          date_time: 'local_time_full'\n        },\n        output: 'time.local'\n      }\n    ];\n\n    let ip_address = '${keen.ip}';\n    addons.push({\n      name: 'keen:ip_to_geo',\n      input: {\n        ip: 'ip_address',\n        remove_ip_property: !options.collectIpAddress\n      },\n      output : 'geo'\n    });\n\n    client.extendEvents(function() {\n      const browserProfile = helpers.getBrowserProfile();\n      let scrollState = {};\n\n      if (options.recordScrollState) {\n        scrollState = helpers.getScrollState();\n      }\n\n      return {\n        event_uuid:  helpers.getUniqueId(),\n        iso_time_full: new Date().toISOString(),\n        local_time_full: new Date().toString(),\n        session: {\n          session_uuid: session_uuid\n        },\n        tracked_by: pkg.name + '-' + pkg.version,\n        tracker_load_uuid: tracker_load_uuid_value,\n        tracker_loaded_at: tracker_loaded_at_time,\n        prodperfect_test_data: prodperfectTestData,\n        user: {\n          uuid\n        },\n        page: {\n          title: document ? document.title : null,\n          description: browserProfile.description,\n          scroll_state: scrollState,\n          time_on_page: getSecondsSinceDate(now),\n          time_on_page_ms: getMiliSecondsSinceDate(now)\n        },\n\n        ip_address,\n        geo: { /* Enriched */ },\n\n        user_agent: '${keen.user_agent}',\n        tech: {\n          profile: browserProfile\n          /* Enriched */\n        },\n\n        url: {\n          full: window ? window.location.href : '',\n          info: { /* Enriched */ }\n        },\n\n        referrer: {\n          initial: initialReferrer,\n          full: document ? document.referrer : '',\n          info: { /* Enriched */ }\n        },\n\n        time: {\n          local: { /* Enriched */ },\n          utc: { /* Enriched */ }\n        },\n\n        keen: {\n          timestamp: new Date().toISOString(),\n          addons,\n        }\n      };\n    });\n\n    if (options.recordClicks === true) {\n      utils.listener('*').on('click', function(e) {\n        const el = e.target;\n        const event = {\n          element: helpers.getDomNodeProfile(el, options.domElementOptions)\n        };\n\n        if (options.catchError) {\n          return client\n            .recordEvent({\n              collection: 'clicks',\n              event\n            }).catch(err => {\n              options.catchError(err);\n            });\n        }\n\n        return client\n          .recordEvent({\n            collection: 'clicks',\n            event\n          });\n      });\n    }\n\n    if (options.recordFormSubmits === true) {\n      utils.listener('form').on('submit', function(e) {\n        const el = e.target;\n        const serializerOptions = {\n          disabled: options.ignoreDisabledFormFields,\n          ignoreTypes: options.ignoreFormFieldTypes\n        };\n        const fields = utils.serializeForm(el, serializerOptions);\n        const keys = Object.keys(fields);\n        for (let x = 0; x < keys.length; x++) {\n          fields[keys[x]] = '---REDACTED---';\n        }\n        const event = {\n          form: {\n            action: el.action,\n            fields: fields,\n            method: el.method\n          },\n          element: helpers.getDomNodeProfile(el, options.domElementOptions)\n        };\n\n        if (options.catchError) {\n          return client\n            .recordEvent({\n              collection: 'form_submissions',\n              event\n            })\n            .catch(err => {\n              options.catchError(err);\n            });\n        }\n\n        return client.recordEvent({\n          collection: 'form_submissions',\n          event\n        });\n      });\n    }\n\n    if (options.recordInputChanges === true) {\n      utils.listener('*').on('change', function (e) {\n        var el = e.target;\n        var props = {\n          element: helpers.getDomNodeProfile(el, options.domElementOptions),\n          page: {\n            scroll_state: helpers.getScrollState(),\n          },\n        };\n        client.recordEvent('changes', props);\n      });\n    }\n\n    if (options.recordPageUnloads === true && window.addEventListener) {\n      window.addEventListener('beforeunload', function (e) {\n        client.recordEvent('pageunloads');\n      }, false);\n    }\n\n    if (options.recordPageViews === true && !options.recordPageViewsOnExit) {\n      if (options.catchError) {\n        client\n          .recordEvent({\n            collection: 'pageviews'\n          })\n          .catch(err => {\n            options.catchError(err);\n          });\n      } else {\n        client\n          .recordEvent({\n            collection: 'pageviews'\n          });\n      }\n    }\n\n    if (options.recordPageViewsOnExit && typeof window !== 'undefined') {\n      window.addEventListener('beforeunload', () => {\n        client.config.requestType = 'beaconAPI'; // you can run beforeunload only with beaconAPI\n        client.recordEvent({\n          collection: 'pageviews'\n        });\n      });\n    }\n\n    return client;\n  };\n}\n\nfunction getSecondsSinceDate(date) {\n  return Math.round(getMiliSecondsSinceDate(date) / 1000);\n}\n\nfunction getMiliSecondsSinceDate(date) {\n  return new Date().getTime() - date.getTime();\n}\n","const projectIdThrottleBlacklist = {\n  // 'PROJECT_ID': THROTTLE_RATE (between 0.00 - 1.00)\n  xijiKKCqPQzOl0EKa9ta0vmD: 0.10,\n  G6kGCgdy9JzppocYlPmUGpXU: 0.02,\n  NIKxOIAk2dsmlD88wgvNEK5S: 0.8,\n};\n\nexport default class Sampler {\n  constructor(Keen) {\n    this.config = Keen.config;\n    this.projectIdThrottleBlacklist = projectIdThrottleBlacklist;\n  }\n\n  static convertIdToInt(uniqueId) {\n    let hash = String(uniqueId).replace(/[^a-fA-F0-9]/g, '').toLowerCase();\n    hash = String(`ffffffff${hash}`).slice(-8); // left-pad the hash and trim\n\n    return parseInt(hash, 16);\n  }\n\n  shouldSample(uniqueId) {\n    if (!this.canBeThrottled()) {\n      return true;\n    }\n\n    const hashValue = Sampler.convertIdToInt(uniqueId);\n    const desiredSampleRate = this.desiredSampleRateForProjectId();\n    const divisor = 0xffffffff;\n    const isBelowThreshold = (hashValue / divisor) < desiredSampleRate;\n\n    return isBelowThreshold;\n  }\n\n  desiredSampleRateForProjectId() {\n    const throttleRate = this.projectIdThrottleBlacklist[this.config.projectId];\n\n    return throttleRate === undefined ? 1 : throttleRate;\n  }\n\n  canBeThrottled() {\n    const isTestEnvironment = document.cookie.indexOf('prodperfect_test') !== -1;\n    if (isTestEnvironment) {\n      return false;\n    }\n\n    return this.desiredSampleRateForProjectId() !== 1.00;\n  }\n}\n","import { getScreenProfile } from './getScreenProfile';\nimport { getWindowProfile } from './getWindowProfile';\n\nexport function getBrowserProfile() {\n  return {\n    'cookies'    : ('undefined' !== typeof navigator.cookieEnabled) ? navigator.cookieEnabled : false,\n    'codeName'   : navigator.appCodeName,\n    'description': getDocumentDescription(),\n    'language'   : navigator.language,\n    'name'       : navigator.appName,\n    'online'     : navigator.onLine,\n    'platform'   : navigator.platform,\n    'useragent'  : navigator.userAgent,\n    'version'    : navigator.appVersion,\n    'screen'     : getScreenProfile(),\n    'window'     : getWindowProfile()\n  }\n}\n\nfunction getDocumentDescription() {\n  var el;\n  if (document && typeof document.querySelector === 'function') {\n    el = document.querySelector('meta[name=\"description\"]');\n  }\n  return el ? el.content : '';\n}\n","export function getDatetimeIndex(input){\n  var date = input || new Date();\n  return {\n    'hour_of_day'  : date.getHours(),\n    'day_of_week'  : parseInt( 1 + date.getDay() ),\n    'day_of_month' : date.getDate(),\n    'month'        : parseInt( 1 + date.getMonth() ),\n    'year'         : date.getFullYear()\n  };\n}\n","function extractHostname(url) {\n    var hostname;\n    //find & remove protocol (http, ftp, etc.) and get hostname\n\n    if (url.indexOf(\"://\") > -1) {\n        hostname = url.split('/')[2];\n    }\n    else {\n        hostname = url.split('/')[0];\n    }\n\n    //find & remove port number\n    hostname = hostname.split(':')[0];\n    //find & remove \"?\"\n    hostname = hostname.split('?')[0];\n\n    return hostname;\n}\n\n// To address those who want the \"root domain,\" use this function:\nexport function getDomainName(url) {\n    var domain = extractHostname(url),\n        splitArr = domain.split('.'),\n        arrLen = splitArr.length;\n\n    //extracting the root domain here\n    //if there is a subdomain\n    if (arrLen > 2) {\n        domain = splitArr[arrLen - 2] + '.' + splitArr[arrLen - 1];\n        //check to see if it's using a Country Code Top Level Domain (ccTLD) (i.e. \".me.uk\")\n        if (splitArr[arrLen - 2].length == 2 && splitArr[arrLen - 1].length == 2) {\n            //this is using a ccTLD\n            domain = splitArr[arrLen - 3] + '.' + domain;\n        }\n    }\n    return domain;\n}\n","import { getDomNodePath } from './getDomNodePath';\nimport getBasicDomNodeProfile from './getBasicDomNodeProfile';\nimport { getNParents } from './getNParents';\n\nconst getTextContent = (el, options) => {\n  if (!options.recordTextContent || !el.textContent) {\n    return null;\n  }\n\n  if (options.redactTextContent) {\n    return '---REDACTED---';\n  }\n\n  return el.textContent;\n};\n\nexport default function getDomNodeProfile(el, options = {}) {\n  return {\n    ...getBasicDomNodeProfile(el),\n    action: el.action,\n    method: el.method,\n    n_parents: getNParents(el, options.nParents),\n    selector: getDomNodePath(el),\n    text_content: getTextContent(el, options),\n    cursor: window.getComputedStyle(el).getPropertyValue('cursor'),\n    x_position: el.offsetLeft || el.clientLeft || null,\n    y_position: el.offsetTop || el.clientTop || null,\n  };\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = unique;\n\nvar _getID = require('./getID');\n\nvar _getClasses = require('./getClasses');\n\nvar _getCombinations = require('./getCombinations');\n\nvar _getAttributes = require('./getAttributes');\n\nvar _getNthChild = require('./getNthChild');\n\nvar _getTag = require('./getTag');\n\nvar _isUnique = require('./isUnique');\n\nvar _getParents = require('./getParents');\n\n/**\n * Returns all the selectors of the elmenet\n * @param  { Object } element\n * @return { Object }\n */\n/**\n * Expose `unique`\n */\n\nfunction getAllSelectors(el, selectors, attributesToIgnore) {\n  var funcs = {\n    'Tag': _getTag.getTag,\n    'NthChild': _getNthChild.getNthChild,\n    'Attributes': function Attributes(elem) {\n      return (0, _getAttributes.getAttributes)(elem, attributesToIgnore);\n    },\n    'Class': _getClasses.getClassSelectors,\n    'ID': _getID.getID\n  };\n\n  return selectors.reduce(function (res, next) {\n    res[next] = funcs[next](el);\n    return res;\n  }, {});\n}\n\n/**\n * Tests uniqueNess of the element inside its parent\n * @param  { Object } element\n * @param { String } Selectors\n * @return { Boolean }\n */\nfunction testUniqueness(element, selector) {\n  var parentNode = element.parentNode;\n\n  var elements = parentNode.querySelectorAll(selector);\n  return elements.length === 1 && elements[0] === element;\n}\n\n/**\n * Tests all selectors for uniqueness and returns the first unique selector.\n * @param  { Object } element\n * @param  { Array } selectors\n * @return { String }\n */\nfunction getFirstUnique(element, selectors) {\n  return selectors.find(testUniqueness.bind(null, element));\n}\n\n/**\n * Checks all the possible selectors of an element to find one unique and return it\n * @param  { Object } element\n * @param  { Array } items\n * @param  { String } tag\n * @return { String }\n */\nfunction getUniqueCombination(element, items, tag) {\n  var combinations = (0, _getCombinations.getCombinations)(items, 3),\n      firstUnique = getFirstUnique(element, combinations);\n\n  if (Boolean(firstUnique)) {\n    return firstUnique;\n  }\n\n  if (Boolean(tag)) {\n    combinations = combinations.map(function (combination) {\n      return tag + combination;\n    });\n    firstUnique = getFirstUnique(element, combinations);\n\n    if (Boolean(firstUnique)) {\n      return firstUnique;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns a uniqueSelector based on the passed options\n * @param  { DOM } element\n * @param  { Array } options\n * @return { String }\n */\nfunction getUniqueSelector(element, selectorTypes, attributesToIgnore, excludeRegex) {\n  var foundSelector = void 0;\n\n  var elementSelectors = getAllSelectors(element, selectorTypes, attributesToIgnore);\n\n  if (excludeRegex && excludeRegex instanceof RegExp) {\n    elementSelectors.ID = excludeRegex.test(elementSelectors.ID) ? null : elementSelectors.ID;\n    elementSelectors.Class = elementSelectors.Class.filter(function (className) {\n      return !excludeRegex.test(className);\n    });\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = selectorTypes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var selectorType = _step.value;\n      var ID = elementSelectors.ID,\n          Tag = elementSelectors.Tag,\n          Classes = elementSelectors.Class,\n          Attributes = elementSelectors.Attributes,\n          NthChild = elementSelectors.NthChild;\n\n      switch (selectorType) {\n        case 'ID':\n          if (Boolean(ID) && testUniqueness(element, ID)) {\n            return ID;\n          }\n          break;\n\n        case 'Tag':\n          if (Boolean(Tag) && testUniqueness(element, Tag)) {\n            return Tag;\n          }\n          break;\n\n        case 'Class':\n          if (Boolean(Classes) && Classes.length) {\n            foundSelector = getUniqueCombination(element, Classes, Tag);\n            if (foundSelector) {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'Attributes':\n          if (Boolean(Attributes) && Attributes.length) {\n            foundSelector = getUniqueCombination(element, Attributes, Tag);\n            if (foundSelector) {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'NthChild':\n          if (Boolean(NthChild)) {\n            return NthChild;\n          }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return '*';\n}\n\n/**\n * Generate unique CSS selector for given DOM element\n *\n * @param {Element} el\n * @return {String}\n * @api private\n */\n\nfunction unique(el) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$selectorType = options.selectorTypes,\n      selectorTypes = _options$selectorType === undefined ? ['ID', 'Class', 'Tag', 'NthChild'] : _options$selectorType,\n      _options$attributesTo = options.attributesToIgnore,\n      attributesToIgnore = _options$attributesTo === undefined ? ['id', 'class', 'length'] : _options$attributesTo,\n      _options$excludeRegex = options.excludeRegex,\n      excludeRegex = _options$excludeRegex === undefined ? null : _options$excludeRegex;\n\n  var allSelectors = [];\n  var parents = (0, _getParents.getParents)(el);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = parents[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var elem = _step2.value;\n\n      var selector = getUniqueSelector(elem, selectorTypes, attributesToIgnore, excludeRegex);\n      if (Boolean(selector)) {\n        allSelectors.push(selector);\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var selectors = [];\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = allSelectors[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var it = _step3.value;\n\n      selectors.unshift(it);\n      var _selector = selectors.join(' > ');\n      if ((0, _isUnique.isUnique)(el, _selector)) {\n        return _selector;\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return null;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getID = getID;\n/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nfunction getID(el) {\n  var id = el.getAttribute('id');\n\n  if (id !== null && id !== '') {\n    // if the ID starts with a number or contains \":\" selecting with a hash will cause a DOMException\n    return id.match(/(?:^\\d|:)/) ? '[id=\"' + id + '\"]' : '#' + id;\n  }\n  return null;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getClasses = getClasses;\nexports.getClassSelectors = getClassSelectors;\n/**\n * Get class names for an element\n *\n * @pararm { Element } el\n * @return { Array }\n */\nfunction getClasses(el) {\n  if (!el.hasAttribute('class')) {\n    return [];\n  }\n\n  try {\n    var classList = Array.prototype.slice.call(el.classList);\n\n    // return only the valid CSS selectors based on RegEx\n    return classList.filter(function (item) {\n      return !/^[a-z_-][a-z\\d_-]*$/i.test(item) ? null : item;\n    });\n  } catch (e) {\n    var className = el.getAttribute('class');\n\n    // remove duplicate and leading/trailing whitespaces\n    className = className.trim().replace(/\\s+/g, ' ');\n\n    // split into separate classnames\n    return className.split(' ');\n  }\n}\n\n/**\n * Returns the Class selectors of the element\n * @param  { Object } element\n * @return { Array }\n */\nfunction getClassSelectors(el) {\n  var classList = getClasses(el).filter(Boolean);\n  return classList.map(function (cl) {\n    return '.' + cl;\n  });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getCombinations = getCombinations;\n/**\n * Recursively combinate items.\n * @param  { Array } result\n * @param  { Array } items\n * @param  { Array } data\n * @param  { Number } start\n * @param  { Number } end\n * @param  { Number } index\n * @param  { Number } k\n */\nfunction kCombinations(result, items, data, start, end, index, k) {\n    if (index === k) {\n        result.push(data.slice(0, index).join(''));\n        return;\n    }\n\n    for (var i = start; i <= end && end - i + 1 >= k - index; ++i) {\n        data[index] = items[i];\n        kCombinations(result, items, data, i + 1, end, index + 1, k);\n    }\n}\n\n/**\n * Returns all the possible selector combinations\n * @param  { Array } items\n * @param  { Number } k\n * @return { Array }\n */\nfunction getCombinations(items, k) {\n    var result = [],\n        n = items.length,\n        data = [];\n\n    for (var l = 1; l <= k; ++l) {\n        kCombinations(result, items, data, 0, n - 1, 0, l);\n    }\n\n    return result;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAttributes = getAttributes;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * Returns the Attribute selectors of the element\n * @param  { DOM Element } element\n * @param  { Array } array of attributes to ignore\n * @return { Array }\n */\nfunction getAttributes(el) {\n  var attributesToIgnore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['id', 'class', 'length'];\n  var attributes = el.attributes;\n\n  var attrs = [].concat(_toConsumableArray(attributes));\n\n  return attrs.reduce(function (sum, next) {\n    if (!(attributesToIgnore.indexOf(next.nodeName) > -1)) {\n      sum.push('[' + next.nodeName + '=\"' + next.value + '\"]');\n    }\n    return sum;\n  }, []);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNthChild = getNthChild;\n\nvar _isElement = require('./isElement');\n\n/**\n * Returns the selectors based on the position of the element relative to its siblings\n * @param  { Object } element\n * @return { Array }\n */\nfunction getNthChild(element) {\n  var counter = 0;\n  var k = void 0;\n  var sibling = void 0;\n  var parentNode = element.parentNode;\n\n\n  if (Boolean(parentNode)) {\n    var childNodes = parentNode.childNodes;\n\n    var len = childNodes.length;\n    for (k = 0; k < len; k++) {\n      sibling = childNodes[k];\n      if ((0, _isElement.isElement)(sibling)) {\n        counter++;\n        if (sibling === element) {\n          return ':nth-child(' + counter + ')';\n        }\n      }\n    }\n  }\n  return null;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTag = getTag;\n/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nfunction getTag(el) {\n  return el.tagName.toLowerCase().replace(/:/g, '\\\\:');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isUnique = isUnique;\n/**\n * Checks if the selector is unique\n * @param  { Object } element\n * @param  { String } selector\n * @return { Array }\n */\nfunction isUnique(el, selector) {\n  if (!Boolean(selector)) return false;\n  var elems = el.ownerDocument.querySelectorAll(selector);\n  return elems.length === 1 && elems[0] === el;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getParents = getParents;\n\nvar _isElement = require('./isElement');\n\n/**\n * Returns all the element and all of its parents\n * @param { DOM Element }\n * @return { Array of DOM elements }\n */\nfunction getParents(el) {\n  var parents = [];\n  var currentElement = el;\n  while ((0, _isElement.isElement)(currentElement)) {\n    parents.push(currentElement);\n    currentElement = currentElement.parentNode;\n  }\n\n  return parents;\n}","export function getDomNodeAttributes(el, filter) {\n  let i,\n    attributeNodes = el.attributes || {},\n    length = attributeNodes.length,\n    attrs = {};\n\n  for ( i = 0; i < length; i++ ){\n    const node = attributeNodes[i];\n\n    if(filter == '' || filter.test(node.name)) {\n     attrs[node.name] = node.value;\n    }\n  }\n\n  return attrs;\n}\n","import getBasicDomNodeProfile from './getBasicDomNodeProfile';\n\nexport function getNParents(element, nParents = 5, parents = []) {\n  let parent = element.parentNode;\n\n  if (nParents === 0 || !parent) {\n    return parents;\n  }\n\n  return getNParents(\n    parent,\n    nParents - 1,\n    parents.concat({\n      ...getBasicDomNodeProfile(parent),\n      nth_parent: parents.length + 1\n    })\n  )\n}\n","import extend from 'keen-core/lib/utils/extend';\n\nexport function getScrollState(obj){\n  var config = typeof obj === 'object' ? obj : {};\n  var state = extend({\n    pixel: 0,\n    pixel_max: 0,\n    ratio: null,\n    ratio_max: null\n  }, config);\n\n  if (typeof window !== undefined || typeof document !== undefined) {\n    state.pixel = getScrollOffset() + getWindowHeight();\n    if (state.pixel > state.pixel_max) {\n      state.pixel_max = state.pixel;\n    }\n    state.ratio = parseFloat(Number(state.pixel / getScrollableArea()).toFixed(2));\n    state.ratio_max = parseFloat(Number(state.pixel_max / getScrollableArea()).toFixed(2));\n  }\n\n  return state;\n}\n\nfunction getScrollableArea() {\n  var body = document.body;\n  var html = document.documentElement;\n  return Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight ) || null;\n}\n\nfunction getScrollOffset() {\n  return (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n}\n\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement.clientHeight;\n}\n","export function getUniqueId() {\n  // uuidv4\n  if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\n    // browser\n    return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n      (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n    )\n  } else {\n    // node & older browsers\n    let str = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n    return str.replace(/[xy]/g, function(c) {\n      let r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n      return v.toString(16);\n    });\n  }\n}\n","import Cookies from 'js-cookie';\nimport extend from 'keen-core/lib/utils/extend';\n\nexport const cookie = function(str){\n  if (!arguments.length) return;\n  if (this instanceof cookie === false) {\n    return new cookie(str);\n  }\n\n  this.config = {\n    key: str,\n    options: {\n      expires: 365,\n      secure: true,\n      sameSite: 'None',\n    }\n  };\n  this.data = this.get();\n  return this;\n}\n\ncookie.prototype.get = function(str){\n  var data = {};\n\n  if (Cookies.get(this.config.key)) {\n    data = Cookies.getJSON(this.config.key);\n  }\n  if (str && typeof data === 'object' && typeof data !== null) {\n    return (typeof data[str] !== 'undefined') ? data[str] : null;\n  }\n  else {\n    return data;\n  }\n};\n\ncookie.prototype.set = function(str, value, options){\n  if (!arguments.length || !this.enabled()) return this;\n  if (typeof str === 'string' && arguments.length >= 2) {\n    this.data[str] = value ? value : null;\n  }\n  else if (typeof str === 'object' && arguments.length === 1) {\n    extend(this.data, str);\n  }\n  Cookies.set(\n    this.config.key,\n    this.data,\n    extend(this.config.options, options || {})\n  );\n  return this;\n};\n\ncookie.prototype.expire = function(daysUntilExpire){\n  if (daysUntilExpire) {\n    Cookies.set(\n      this.config.key,\n      this.data,\n      extend(this.config.options, { expires: daysUntilExpire })\n    );\n  } else {\n    Cookies.remove(this.config.key);\n    this.data = {};\n  }\n  return this;\n};\n\ncookie.prototype.options = function(obj){\n  if (!arguments.length) return this.config.options;\n  this.config.options = (typeof obj === 'object') ? obj : {};\n  return this;\n};\n\ncookie.prototype.enabled = function(){\n  return navigator.cookieEnabled;\n};\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","/*\n  This is a modified copy of https://github.com/defunctzombie/form-serialize/ v0.7.1\n  Includes a new configuration option:\n    * ignoreTypes - Array, Default: [], Example: [ 'password' ]\n*/\n\n// types which indicate a submit action and are not successful controls\n// these will be ignored\nvar k_r_submitter = /^(?:submit|button|image|reset|file)$/i;\n\n// node names which could be successful controls\nvar k_r_success_contrls = /^(?:input|select|textarea|keygen)/i;\n\n// Matches bracket notation.\nvar brackets = /(\\[[^\\[\\]]*\\])/g;\n\n// serializes form fields\n// @param form MUST be an HTMLForm element\n// @param options is an optional argument to configure the serialization. Default output\n// with no options specified is a url encoded string\n//    - hash: [true | false] Configure the output type. If true, the output will\n//    be a js object.\n//    - serializer: [function] Optional serializer function to override the default one.\n//    The function takes 3 arguments (result, key, value) and should return new result\n//    hash and url encoded str serializers are provided with this module\n//    - disabled: [true | false]. If true serialize disabled fields.\n//    - empty: [true | false]. If true serialize empty fields\nexport function serializeForm(form, options) {\n  if (typeof options != 'object') {\n    options = { hash: !!options };\n  }\n  else if (options.hash === undefined) {\n    options.hash = true;\n  }\n\n  var result = (options.hash) ? {} : '';\n  var serializer = options.serializer || ((options.hash) ? hash_serializer : str_serialize);\n\n  var elements = form && form.elements ? form.elements : [];\n\n  // Object store each radio and set if it's empty or not\n  var radio_store = Object.create(null);\n\n  for (var i=0 ; i<elements.length ; ++i) {\n    var element = elements[i];\n\n    // NEW: Skip ignored field types\n    if (options.ignoreTypes && options.ignoreTypes.indexOf(element.type) > -1) {\n      continue;\n    }\n    // ingore disabled fields\n    if ((!options.disabled && element.disabled) || !element.name) {\n      continue;\n    }\n    // ignore anyhting that is not considered a success field\n    if (!k_r_success_contrls.test(element.nodeName) ||\n      k_r_submitter.test(element.type)) {\n      continue;\n    }\n\n    var key = element.name;\n    var val = element.value;\n\n    // we can't just use element.value for checkboxes cause some browsers lie to us\n    // they say \"on\" for value when the box isn't checked\n    if ((element.type === 'checkbox' || element.type === 'radio') && !element.checked) {\n      val = undefined;\n    }\n\n    // If we want empty elements\n    if (options.empty) {\n      if (element.type === 'checkbox' && !element.checked) {\n        val = '';\n      }\n\n      // for radio\n      if (element.type === 'radio') {\n        if (!radio_store[element.name] && !element.checked) {\n          radio_store[element.name] = false;\n        }\n        else if (element.checked) {\n          radio_store[element.name] = true;\n        }\n      }\n\n      // if options empty is true, continue only if its radio\n      if (val == undefined && element.type == 'radio') {\n        continue;\n      }\n    }\n    else {\n      // value-less fields are ignored unless options.empty is true\n      if (!val) {\n        continue;\n      }\n    }\n\n    // multi select boxes\n    if (element.type === 'select-multiple') {\n      val = [];\n\n      var selectOptions = element.options;\n      var isSelectedOptions = false;\n      for (var j=0 ; j<selectOptions.length ; ++j) {\n        var option = selectOptions[j];\n        var allowedEmpty = options.empty && !option.value;\n        var hasValue = (option.value || allowedEmpty);\n        if (option.selected && hasValue) {\n          isSelectedOptions = true;\n\n          // If using a hash serializer be sure to add the\n          // correct notation for an array in the multi-select\n          // context. Here the name attribute on the select element\n          // might be missing the trailing bracket pair. Both names\n          // \"foo\" and \"foo[]\" should be arrays.\n          if (options.hash && key.slice(key.length - 2) !== '[]') {\n            result = serializer(result, key + '[]', option.value);\n          }\n          else {\n            result = serializer(result, key, option.value);\n          }\n        }\n      }\n\n      if (!isSelectedOptions && options.empty) {\n        result = serializer(result, key, '');\n      }\n      continue;\n    }\n\n    result = serializer(result, key, val);\n  }\n\n  if (options.empty) {\n    for (var key in radio_store) {\n      if (!radio_store[key]) {\n        result = serializer(result, key, '');\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction parse_keys(string) {\n  var keys = [];\n  var prefix = /^([^\\[\\]]*)/;\n  var children = new RegExp(brackets);\n  var match = prefix.exec(string);\n\n  if (match[1]) {\n      keys.push(match[1]);\n  }\n\n  while ((match = children.exec(string)) !== null) {\n      keys.push(match[1]);\n  }\n\n  return keys;\n}\n\nfunction hash_assign(result, keys, value) {\n  if (keys.length === 0) {\n    result = value;\n    return result;\n  }\n\n  var key = keys.shift();\n  var between = key.match(/^\\[(.+?)\\]$/);\n\n  if (key === '[]') {\n    result = result || [];\n\n    if (Array.isArray(result)) {\n      result.push(hash_assign(null, keys, value));\n    }\n    else {\n      // This might be the result of bad name attributes like \"[][foo]\",\n      // in this case the original `result` object will already be\n      // assigned to an object literal. Rather than coerce the object to\n      // an array, or cause an exception the attribute \"_values\" is\n      // assigned as an array.\n      result._values = result._values || [];\n      result._values.push(hash_assign(null, keys, value));\n    }\n\n    return result;\n  }\n\n  // Key is an attribute name and can be assigned directly.\n  if (!between) {\n    result[key] = hash_assign(result[key], keys, value);\n  }\n  else {\n    var string = between[1];\n    // +var converts the variable into a number\n    // better than parseInt because it doesn't truncate away trailing\n    // letters and actually fails if whole thing is not a number\n    var index = +string;\n\n    // If the characters between the brackets is not a number it is an\n    // attribute name and can be assigned directly.\n    if (isNaN(index)) {\n      result = result || {};\n      result[string] = hash_assign(result[string], keys, value);\n    }\n    else {\n      result = result || [];\n      result[index] = hash_assign(result[index], keys, value);\n    }\n  }\n\n  return result;\n}\n\n// Object/hash encoding serializer.\nfunction hash_serializer(result, key, value) {\n  var matches = key.match(brackets);\n\n  // Has brackets? Use the recursive assignment function to walk the keys,\n  // construct any missing objects in the result tree and make the assignment\n  // at the end of the chain.\n  if (matches) {\n    var keys = parse_keys(key);\n    hash_assign(result, keys, value);\n  }\n  else {\n    // Non bracket notation can make assignments directly.\n    var existing = result[key];\n\n    // If the value has been assigned already (for instance when a radio and\n    // a checkbox have the same name attribute) convert the previous value\n    // into an array before pushing into it.\n    //\n    // NOTE: If this requirement were removed all hash creation and\n    // assignment could go through `hash_assign`.\n    if (existing) {\n      if (!Array.isArray(existing)) {\n        result[key] = [ existing ];\n      }\n\n      result[key].push(value);\n    }\n    else {\n      result[key] = value;\n    }\n  }\n\n  return result;\n}\n\n// urlform encoding serializer\nfunction str_serialize(result, key, value) {\n  // encode newlines as \\r\\n cause the html spec says so\n  value = value.replace(/(\\r)?\\n/g, '\\r\\n');\n  value = encodeURIComponent(value);\n\n  // spaces should be '+' rather than '%20'.\n  value = value.replace(/%20/g, '+');\n  return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + value;\n}\n","export function timer(num){\n  if (this instanceof timer === false) {\n    return new timer(num);\n  }\n  this.count = num || 0;\n  return this;\n}\n\ntimer.prototype.start = function(){\n  var self = this;\n  this.pause();\n  this.interval = setInterval(function(){\n    self.count++;\n  }, 1000);\n  return this;\n};\n\ntimer.prototype.pause = function(){\n  clearInterval(this.interval);\n  return this;\n};\n\ntimer.prototype.value = function(){\n  return this.count;\n};\n\ntimer.prototype.clear = function(){\n  this.count = 0;\n  return this;\n};\n"],"sourceRoot":""}