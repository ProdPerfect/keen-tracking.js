{"version":3,"sources":["webpack://Keen/webpack/bootstrap","webpack://Keen/./node_modules/keen-core/lib/utils/each.js","webpack://Keen/./node_modules/keen-core/lib/utils/extend.js","webpack://Keen/(webpack)/buildin/global.js","webpack://Keen/./lib/config-default.js","webpack://Keen/./node_modules/promise-polyfill/src/polyfill.js","webpack://Keen/./node_modules/promise-polyfill/src/finally.js","webpack://Keen/./lib/index.js","webpack://Keen/./node_modules/component-emitter/index.js","webpack://Keen/./node_modules/whatwg-fetch/fetch.js","webpack://Keen/./lib/utils/queue.js","webpack://Keen/./lib/extend-events.js","webpack://Keen/./lib/utils/deepExtend.js","webpack://Keen/./lib/utils/md5.js","webpack://Keen/./lib/helpers/getScreenProfile.js","webpack://Keen/./lib/helpers/getWindowProfile.js","webpack://Keen/./lib/helpers/getDomNodePath.js","webpack://Keen/./lib/helpers/getBasicDomNodeProfile.js","webpack://Keen/./node_modules/promise-polyfill/src/index.js","webpack://Keen/./lib/browser.js","webpack://Keen/./node_modules/keen-core/lib/index.js","webpack://Keen/./node_modules/keen-core/lib/utils/parse-params.js","webpack://Keen/./node_modules/keen-core/lib/utils/serialize.js","webpack://Keen/./lib/utils/listener.js","webpack://Keen/./lib/record-events-browser.js","webpack://Keen/./node_modules/timers-browserify/main.js","webpack://Keen/./node_modules/setimmediate/setImmediate.js","webpack://Keen/./node_modules/process/browser.js","webpack://Keen/./node_modules/keen-core/lib/utils/base64.js","webpack://Keen/./lib/utils/fetchRetry.js","webpack://Keen/./lib/utils/unique.js","webpack://Keen/./lib/utils/cache-browser.js","webpack://Keen/./lib/defer-events.js","webpack://Keen/./lib/browser-auto-tracking.js","webpack://Keen/./lib/helpers/getBrowserProfile.js","webpack://Keen/./lib/helpers/getDatetimeIndex.js","webpack://Keen/./lib/helpers/getDomainName.js","webpack://Keen/./lib/helpers/getDomNodeProfile.js","webpack://Keen/./lib/helpers/getDomNodeAttributes.js","webpack://Keen/./lib/helpers/getNParents.js","webpack://Keen/./lib/helpers/getScrollState.js","webpack://Keen/./lib/helpers/getUniqueId.js","webpack://Keen/./lib/utils/cookie.js","webpack://Keen/./node_modules/js-cookie/src/js.cookie.js","webpack://Keen/./lib/utils/serializeForm.js","webpack://Keen/./lib/utils/timer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cb","Array","length","target","arguments","prop","g","this","Function","e","window","configDefault","queue","capacity","interval","retry","limit","initialDelay","retryOnResponseStatuses","unique","cache","dbName","dbCollectionName","dbCollectionKey","maxAge","__webpack_exports__","global","_index__WEBPACK_IMPORTED_MODULE_0__","_finally__WEBPACK_IMPORTED_MODULE_1__","globalNS","self","Error","Promise","callback","constructor","then","resolve","reason","reject","_queue","KeenCore","helpers","on","client","extensions","events","collections","config","recordDeferredEvents","writeKey","str","String","referrerPolicy","setGlobalProperties","props","log","Emitter","obj","mixin","addEventListener","event","fn","_callbacks","push","once","off","apply","removeListener","removeAllListeners","removeEventListener","callbacks","splice","emit","args","slice","len","listeners","hasListeners","fetch","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isDataView","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","indexOf","toString","Headers","append","normalizeName","normalizeValue","oldValue","map","has","set","forEach","thisArg","keys","items","iteratorFor","values","entries","iterator","methods","Request","clone","body","_bodyInit","Body","Response","status","statusText","headers","url","error","response","type","redirectStatuses","redirect","RangeError","location","input","init","request","xhr","XMLHttpRequest","onload","rawHeaders","options","getAllResponseHeaders","replace","split","line","parts","shift","trim","join","responseURL","responseText","onerror","TypeError","ontimeout","open","method","credentials","withCredentials","responseType","setRequestHeader","send","polyfill","test","toLowerCase","next","done","undefined","isArray","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","result","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","_initBody","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","text","readAsText","chars","fromCharCode","readArrayBufferAsText","decode","json","JSON","parse","upcased","toUpperCase","referrer","form","bytes","decodeURIComponent","bodyInit","ok","configQueue","_extends","timer","_componentEmitter2","default","check","shouldFlushQueue","flush","pause","clearInterval","start","setInterval","extendEvent","eventCollection","eventModifier","_typeof","handleValidationError","extendEvents","eventsModifier","getExtendedEventBody","_each2","modifierResult","_deepExtend","deepExtend","_each","message","j","stringify","MD5","_","f","charCodeAt","charAt","M","V","h","md5_ii","md5_hh","md5_gg","md5_ff","safe_add","Y","X","md5_cmn","bit_rol","getScreenProfile","output","screen","orientation","angle","innerWidth","innerHeight","getWindowProfile","html","document","documentElement","height","offsetHeight","width","offsetWidth","scrollHeight","Math","max","clientHeight","ratio","availHeight","parseFloat","toFixed","availWidth","getDomNodePath","el","nodeName","stack","parentNode","sibCount","sibIndex","childNodes","sib","hasAttribute","id","unshift","getBasicDomNodeProfile","class","className","href","all_attrs","_getDomNodeAttributes","getDomNodeAttributes","EXCLUDE_VALUE_REGEX","node_name","tag_name","tagName","title","setImmediate","_finally__WEBPACK_IMPORTED_MODULE_0__","setTimeoutFunc","setTimeout","noop","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","onFulfilled","onRejected","ret","newValue","finale","_unhandledRejectionFn","Handler","ex","prom","all","arr","remaining","res","val","race","err","console","warn","_listener","_recordEventsBrowser","_deferEvents","_extendEvents","_browserAutoTracking","_getBrowserProfile","_getDatetimeIndex","_getDomainName","_getDomNodePath","_getDomNodeProfile","_getScreenProfile","_getScrollState","_getUniqueId","_getWindowProfile","_cookie","_serializeForm","_timer","_extend2","recordEvent","recordEvents","deferEvent","deferEvents","queueCapacity","queueInterval","initAutoTracking","initAutoTrackingCore","getBrowserProfile","getDatetimeIndex","getDomainName","getDomNodeProfile","getScrollState","getUniqueId","listener","listenerCore","utils","cookie","serializeForm","listenTo","listenerHash","eventType","selector","keenGlobals","webpackKeenGlobals","Keen","extendLibrary","KeenTracking","env","previousKeen","each","extend","parseParams","serialize","Client","configure","debug","isDefined","resources","legacyVersion","enabled","loaded","version","base","projects","projectId","queries","source","previous","noConflict","ready","host","protocol","requestType","navigator","userAgent","masterKey","path","baseUrl","arg","readyState","DOMContentLoaded","testDom","domReady","match","urlParams","pl","search","query","exec","data","encodeURIComponent","ctx","domListeners","attachEvent","addListener","evt","srcElement","handlers","elem","nodeList","querySelectorAll","matches","survivors","handler","hash","eventCollectionOrConfigObject","eventBody","_this","configObject","collection","checkValidation","extendedEventsHash","_unique2","isUniqueResult","created","eventsHash","eventList","index","extendedEventBody","_ref","_ref$configObject","sendBeacon","getRequestUrl","api_key","base64","encode","modified","Date","getTime","appVersion","getUrlMaxLength","img","createElement","naturalHeight","naturalWidth","src","_fetchRetry2","Authorization","Content-Type","catch","connectionError","responseJSON","error_code","eventsSavedSuccessfuly","filter","success","checkEventsSavedSuccessfuly","scope","Timeout","clearFn","_id","_clearFn","clearTimeout","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","process","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","script","onreadystatechange","removeChild","appendChild","random","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","marker","runClearTimeout","Item","array","browser","argv","versions","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","i1","i2","i3","e1","e2","e3","e4","utf8","isNaN","c2","c3","cc","retriesLimit","retryInitialDelay","retryOn","retriesCount","wrappedFetch","_configDefault","_cacheBrowser","uniqueIds","isUnique","customCacheConfig","configCache","stringifiedEvent","hashingMethod","_md2","expiryTime","now","alreadySentEvent","find","storage","getFromCache","saveToCache","indexedDBAvailable","cachingEnabled","db","cacheConfig","initializeIndexedDb","requestCacheConfig","dbConnectionRequest","indexedDB","onupgradeneeded","objectStore","createObjectStore","keyPath","createIndex","onsuccess","requestSave","transaction","add","configOptions","indexCleanUp","upperBoundOpenKeyRange","IDBKeyRange","upperBound","openCursor","cursor","delete","continue","responseFromCache","transactionDelete","num","Number","clonedQueueConfig","clonedQueueEvents","unloadDeferredEvents","lib","ignoreDisabledFormFields","ignoreFormFieldTypes","recordClicks","recordFormSubmits","recordInputChanges","recordPageUnloads","recordPageViews","recordPageViewsOnExit","recordScrollState","shareUuidAcrossDomains","collectIpAddress","collectUuid","catchError","domElementOptions","recordTextContent","redactTextContent","session_cookie","session_uuid","expire","prodperfectTestData","domainName","hostname","cookieDomain","domain","uuid","initialReferrer","scrollState","tracker_loaded_at_time","toISOString","tracker_load_uuid_value","addons","ua_string","date_time","ip","remove_ip_property","date","browserProfile","event_uuid","iso_time_full","local_time_full","session","tracked_by","pkg","tracker_load_uuid","tracker_loaded_at","prodperfect_test_data","user","page","description","scroll_state","time_on_page","round","getMiliSecondsSinceDate","time_on_page_ms","ip_address","geo","user_agent","tech","profile","full","info","initial","time","local","utc","keen","timestamp","element","serializerOptions","disabled","ignoreTypes","fields","x","action","_package","cookies","cookieEnabled","codeName","appCodeName","getDocumentDescription","language","appName","online","onLine","platform","useragent","querySelector","content","hour_of_day","getHours","day_of_week","parseInt","getDay","day_of_month","getDate","month","getMonth","year","getFullYear","extractHostname","splitArr","arrLen","_getBasicDomNodeProfile","n_parents","_getNParents","getNParents","nParents","text_content","getTextContent","x_position","offsetLeft","clientLeft","y_position","offsetTop","clientTop","textContent","attributeNodes","attributes","attrs","node","parents","parent","nth_parent","state","pixel","pixel_max","ratio_max","pageYOffset","scrollTop","getScrollableArea","_extend","crypto","getRandomValues","v","expires","Cookies","getJSON","daysUntilExpire","remove","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","converter","api","defaults","setMilliseconds","getMilliseconds","write","escape","toUTCString","secure","rdecode","read","withConverter","serializer","hash_serializer","str_serialize","elements","radio_store","k_r_success_contrls","k_r_submitter","checked","empty","selectOptions","isSelectedOptions","option","allowedEmpty","hasValue","selected","brackets","hash_assign","between","_values","string","children","RegExp","parse_keys","existing","count","clear"],"mappings":"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","file":"keen-tracking.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","module.exports = each;\n\nfunction each(o, cb, s){\n  var n;\n  if (!o){\n    return 0;\n  }\n  s = !s ? o : s;\n  if (o instanceof Array){\n    // Indexed arrays, needed for Safari\n    for (n=0; n<o.length; n++) {\n      if (cb.call(s, o[n], n, o) === false){\n        return 0;\n      }\n    }\n  } else {\n    // Hashtables\n    for (n in o){\n      if (o.hasOwnProperty(n)) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    }\n  }\n  return 1;\n}\n","module.exports = extend;\n\nfunction extend(target){\n  for (var i = 1; i < arguments.length; i++) {\n    for (var prop in arguments[i]){\n      target[prop] = arguments[i][prop];\n    }\n  }\n  return target;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export const configDefault = {\r\n\r\n  // defer events - queue\r\n  // https://github.com/keen/keen-tracking.js/blob/master/docs/defer-events.md\r\n  queue: {\r\n    capacity: 5000,\r\n    interval: 15,\r\n  },\r\n\r\n  // connection problems - retry request\r\n  retry: {\r\n    limit: 10,\r\n    initialDelay: 200,\r\n    retryOnResponseStatuses: [\r\n      408,\r\n      500,\r\n      502,\r\n      503,\r\n      504\r\n    ]\r\n  },\r\n\r\n  unique: false, // record only unique events?\r\n  // if so - store unique events hashes to compare\r\n  cache: {\r\n    /*\r\n      storage: 'indexeddb', // uncomment for persistence\r\n    */\r\n    dbName: 'keenTracking', // indexedDB name\r\n    dbCollectionName: 'events',\r\n    dbCollectionKey: 'hash',\r\n\r\n    /*\r\n      hashingMethod: 'md5', // if undefined - store as stringified JSON\r\n    */\r\n    maxAge: 60 * 1000, // store for 1 minute\r\n  }\r\n}\r\n\r\nexport default configDefault;\r\n","import Promise from './index';\nimport promiseFinally from './finally';\n\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!globalNS.Promise) {\n  globalNS.Promise = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = promiseFinally;\n}\n","export default function(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n","import KeenCore from 'keen-core';\r\nimport each from 'keen-core/lib/utils/each';\r\nimport extend from 'keen-core/lib/utils/extend';\r\nimport { queue } from'./utils/queue';\r\n\r\nKeenCore.helpers = KeenCore.helpers || {};\r\n\r\n// Install internal queue\r\nKeenCore.on('client', function(client){\r\n  client.extensions = {\r\n    events: [],\r\n    collections: {}\r\n  };\r\n  client.queue = queue(client.config.queue);\r\n  client.queue.on('flush', function(){\r\n    client.recordDeferredEvents();\r\n  });\r\n});\r\n\r\n// Accessors\r\nKeenCore.prototype.writeKey = function(str){\r\n  if (!arguments.length) return this.config.writeKey;\r\n  this.config.writeKey = (str ? String(str) : null);\r\n  return this;\r\n};\r\n\r\nKeenCore.prototype.referrerPolicy = function(str){\r\n  if (!arguments.length) return this.config.referrerPolicy;\r\n  this.config.referrerPolicy = (str ? String(str) : null);\r\n  return this;\r\n};\r\n\r\n// DEPRECATED\r\nKeenCore.prototype.setGlobalProperties = function(props){\r\n  KeenCore.log('This method has been removed. Check out #extendEvents: https://github.com/keen/keen-tracking.js#extend-events');\r\n  return this;\r\n};\r\n\r\nexport default KeenCore;\r\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import Emitter from 'component-emitter';\r\n\r\nimport configDefault from '../config-default.js';\r\n\r\nexport function queue(configQueue = {}) {\r\n  if (this instanceof queue === false) {\r\n    return new queue(configQueue);\r\n  }\r\n  this.capacity = 0;\r\n  this.config = {\r\n    ...configDefault.queue,\r\n    ...configQueue\r\n  };\r\n  this.events = {\r\n    // \"collection-1\": [],\r\n    // \"collection-2\": []\r\n  };\r\n  this.interval = 0;\r\n  this.timer = null;\r\n  return this;\r\n}\r\n\r\nEmitter(queue.prototype);\r\n\r\nqueue.prototype.check = function() {\r\n  if (shouldFlushQueue(this)) {\r\n    this.flush();\r\n  }\r\n  if (this.config.interval === 0 || this.capacity === 0) {\r\n    this.pause();\r\n  }\r\n  return this;\r\n};\r\n\r\nqueue.prototype.flush = function() {\r\n  this.emit('flush');\r\n  this.interval = 0;\r\n  return this;\r\n};\r\n\r\nqueue.prototype.pause = function() {\r\n  if (this.timer) {\r\n    clearInterval(this.timer);\r\n    this.timer = null;\r\n  }\r\n  return this;\r\n};\r\n\r\nqueue.prototype.start = function() {\r\n  var self = this;\r\n  self.pause();\r\n  self.timer = setInterval(function() {\r\n    self.interval++;\r\n    self.check();\r\n  }, 1000);\r\n  return self;\r\n};\r\n\r\nfunction shouldFlushQueue(props) {\r\n  if (props.capacity > 0 && props.interval >= props.config.interval) {\r\n    return true;\r\n  }\r\n  else if (props.capacity >= props.config.capacity) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n","import { deepExtend } from './utils/deepExtend';\r\nimport each from 'keen-core/lib/utils/each';\r\n\r\nexport function extendEvent(eventCollection, eventModifier){\r\n  if (arguments.length !== 2 || typeof eventCollection !== 'string'\r\n    || ('object' !== typeof eventModifier && 'function' !== typeof eventModifier)) {\r\n      handleValidationError.call(this, 'Incorrect arguments provided to #extendEvent method');\r\n      return;\r\n  }\r\n  this.extensions.collections[eventCollection] = this.extensions.collections[eventCollection] || [];\r\n  this.extensions.collections[eventCollection].push(eventModifier);\r\n  this.emit('extendEvent', eventCollection, eventModifier);\r\n  return this;\r\n}\r\n\r\nexport function extendEvents(eventsModifier){\r\n  if (arguments.length !== 1 || ('object' !== typeof eventsModifier && 'function' !== typeof eventsModifier)) {\r\n    handleValidationError.call(this, 'Incorrect arguments provided to #extendEvents method');\r\n    return;\r\n  }\r\n  this.extensions.events.push(eventsModifier);\r\n  this.emit('extendEvents', eventsModifier);\r\n  return this;\r\n}\r\n\r\nfunction handleValidationError(message){\r\n  this.emit('error', `Event(s) not extended: ${message}`);\r\n}\r\n\r\nexport function getExtendedEventBody(result, queue){\r\n  if (queue && queue.length > 0) {\r\n    each(queue, function(eventModifier, i){\r\n      let modifierResult = (typeof eventModifier === 'function') ? eventModifier() : eventModifier;\r\n      deepExtend(result, modifierResult);\r\n    });\r\n  }\r\n  return result;\r\n}\r\n","export const deepExtend = function(target){\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    // Copy unique items from incoming array\r\n    if (target instanceof Array && arguments[i] instanceof Array) {\r\n      for (var j = 0; j < arguments[i].length; j++) {\r\n        if (target.indexOf(arguments[i][j]) < 0) {\r\n          target.push(arguments[i][j]);\r\n        }\r\n      }\r\n    }\r\n    // Blend objects\r\n    else {\r\n      for (var prop in arguments[i]){\r\n        // Recurse when both contain objects of same name\r\n        // and incoming is not a null object\r\n        if (typeof target[prop] !== 'undefined'\r\n          && typeof arguments[i][prop] === 'object'\r\n          && arguments[i][prop] !== null) {\r\n            deepExtend(target[prop], clone(arguments[i][prop]));\r\n        }\r\n        // Otherwise just copy it over...\r\n        else if (\r\n          arguments[i][prop] !== undefined &&\r\n          typeof arguments[i][prop] !== 'function') {\r\n            target[prop] = clone(arguments[i][prop]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return target;\r\n}\r\n\r\nfunction clone(input){\r\n  return JSON.parse( JSON.stringify(input) );\r\n}\r\n","export const MD5 = function(d){const result = M(V(Y(X(d),8*d.length)));return result.toLowerCase()};function M(d){for(var _,m=\"0123456789ABCDEF\",f=\"\",r=0;r<d.length;r++)_=d.charCodeAt(r),f+=m.charAt(_>>>4&15)+m.charAt(15&_);return f}function X(d){for(var _=Array(d.length>>2),m=0;m<_.length;m++)_[m]=0;for(m=0;m<8*d.length;m+=8)_[m>>5]|=(255&d.charCodeAt(m/8))<<m%32;return _}function V(d){for(var _=\"\",m=0;m<32*d.length;m+=8)_+=String.fromCharCode(d[m>>5]>>>m%32&255);return _}function Y(d,_){d[_>>5]|=128<<_%32,d[14+(_+64>>>9<<4)]=_;for(var m=1732584193,f=-271733879,r=-1732584194,i=271733878,n=0;n<d.length;n+=16){var h=m,t=f,g=r,e=i;f=md5_ii(f=md5_ii(f=md5_ii(f=md5_ii(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_ff(f=md5_ff(f=md5_ff(f=md5_ff(f,r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+0],7,-680876936),f,r,d[n+1],12,-389564586),m,f,d[n+2],17,606105819),i,m,d[n+3],22,-1044525330),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+4],7,-176418897),f,r,d[n+5],12,1200080426),m,f,d[n+6],17,-1473231341),i,m,d[n+7],22,-45705983),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+8],7,1770035416),f,r,d[n+9],12,-1958414417),m,f,d[n+10],17,-42063),i,m,d[n+11],22,-1990404162),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+12],7,1804603682),f,r,d[n+13],12,-40341101),m,f,d[n+14],17,-1502002290),i,m,d[n+15],22,1236535329),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+1],5,-165796510),f,r,d[n+6],9,-1069501632),m,f,d[n+11],14,643717713),i,m,d[n+0],20,-373897302),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+5],5,-701558691),f,r,d[n+10],9,38016083),m,f,d[n+15],14,-660478335),i,m,d[n+4],20,-405537848),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+9],5,568446438),f,r,d[n+14],9,-1019803690),m,f,d[n+3],14,-187363961),i,m,d[n+8],20,1163531501),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+13],5,-1444681467),f,r,d[n+2],9,-51403784),m,f,d[n+7],14,1735328473),i,m,d[n+12],20,-1926607734),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+5],4,-378558),f,r,d[n+8],11,-2022574463),m,f,d[n+11],16,1839030562),i,m,d[n+14],23,-35309556),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+1],4,-1530992060),f,r,d[n+4],11,1272893353),m,f,d[n+7],16,-155497632),i,m,d[n+10],23,-1094730640),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+13],4,681279174),f,r,d[n+0],11,-358537222),m,f,d[n+3],16,-722521979),i,m,d[n+6],23,76029189),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+9],4,-640364487),f,r,d[n+12],11,-421815835),m,f,d[n+15],16,530742520),i,m,d[n+2],23,-995338651),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+0],6,-198630844),f,r,d[n+7],10,1126891415),m,f,d[n+14],15,-1416354905),i,m,d[n+5],21,-57434055),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+12],6,1700485571),f,r,d[n+3],10,-1894986606),m,f,d[n+10],15,-1051523),i,m,d[n+1],21,-2054922799),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+8],6,1873313359),f,r,d[n+15],10,-30611744),m,f,d[n+6],15,-1560198380),i,m,d[n+13],21,1309151649),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+4],6,-145523070),f,r,d[n+11],10,-1120210379),m,f,d[n+2],15,718787259),i,m,d[n+9],21,-343485551),m=safe_add(m,h),f=safe_add(f,t),r=safe_add(r,g),i=safe_add(i,e)}return Array(m,f,r,i)}function md5_cmn(d,_,m,f,r,i){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,i)),r),m)}function md5_ff(d,_,m,f,r,i,n){return md5_cmn(_&m|~_&f,d,_,r,i,n)}function md5_gg(d,_,m,f,r,i,n){return md5_cmn(_&f|m&~f,d,_,r,i,n)}function md5_hh(d,_,m,f,r,i,n){return md5_cmn(_^m^f,d,_,r,i,n)}function md5_ii(d,_,m,f,r,i,n){return md5_cmn(m^(_|~f),d,_,r,i,n)}function safe_add(d,_){var m=(65535&d)+(65535&_);return(d>>16)+(_>>16)+(m>>16)<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_}\r\n\r\nexport default MD5;\r\n","export function getScreenProfile(){\r\n  var keys, output;\r\n\r\n  if ('undefined' == typeof window || !window.screen) return {};\r\n\r\n  keys = ['height', 'width', 'colorDepth', 'pixelDepth', 'availHeight', 'availWidth'];\r\n  output = {};\r\n\r\n  for (var i = 0; i < keys.length; i++) {\r\n    output[keys[i]] = window.screen[keys[i]] ? window.screen[keys[i]] : null;\r\n  }\r\n\r\n  output.orientation = {\r\n    'angle' : window.screen.orientation ? window.screen.orientation['angle'] : 0,\r\n    'type'  : window.innerWidth > window.innerHeight ? 'landscape': 'portrait'\r\n  };\r\n\r\n  return output;\r\n}\r\n","export function getWindowProfile(){\r\n  var body, html, output;\r\n\r\n  if ('undefined' == typeof document) return {};\r\n\r\n  body = document.body;\r\n  html = document.documentElement;\r\n\r\n  output = {\r\n    'height': ('innerHeight' in window) ? window.innerHeight : document.documentElement.offsetHeight,\r\n    'width': ('innerWidth' in window) ? window.innerWidth : document.documentElement.offsetWidth,\r\n    'scrollHeight': Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight ) || null\r\n  };\r\n\r\n  if (window.screen) {\r\n    output.ratio = {\r\n      'height': (window.screen.availHeight) ? parseFloat( (window.innerHeight/window.screen.availHeight).toFixed(2) ) : null,\r\n      'width': (window.screen.availWidth) ? parseFloat( (window.innerWidth/window.screen.availWidth).toFixed(2) ) : null\r\n    };\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\n/*\r\n  Notes:\r\n    document.documentElement.offsetHeight/Width is a workaround for IE8 and below, where window.innerHeight/Width is undefined\r\n*/\r\n","export function getDomNodePath(el){\r\n  if (!el.nodeName) return '';\r\n\r\n  var stack = [];\r\n  while ( el.parentNode != null ) {\r\n    // console.log(el.nodeName);\r\n    var sibCount = 0;\r\n    var sibIndex = 0;\r\n    for ( var i = 0; i < el.parentNode.childNodes.length; i++ ) {\r\n      var sib = el.parentNode.childNodes[i];\r\n      if ( sib.nodeName == el.nodeName ) {\r\n        if ( sib === el ) {\r\n          sibIndex = sibCount;\r\n        }\r\n        sibCount++;\r\n      }\r\n    }\r\n    if ( el.hasAttribute('id') && el.id != '' ) {\r\n      stack.unshift(el.nodeName.toLowerCase() + '#' + el.id);\r\n    } else if ( sibCount > 1 ) {\r\n      stack.unshift(el.nodeName.toLowerCase() + ':eq(' + sibIndex + ')');\r\n    } else {\r\n      stack.unshift(el.nodeName.toLowerCase());\r\n    }\r\n    el = el.parentNode;\r\n  }\r\n\r\n  return stack.slice(1).join(' > ');\r\n}\r\n\r\n\r\n// via: http://stackoverflow.com/a/16742828/2511985\r\n","import { getDomNodeAttributes } from './getDomNodeAttributes';\r\n\r\nconst EXCLUDE_VALUE_REGEX = /^((?!value).)*$/;\r\n\r\nexport function getBasicDomNodeProfile(el) {\r\n\r\n  return {\r\n    class: el.className,\r\n    href: el.href || null,\r\n    id: el.id,\r\n    name: el.name,\r\n    all_attrs:  getDomNodeAttributes(el, EXCLUDE_VALUE_REGEX),\r\n    node_name: el.nodeName,\r\n    tag_name: el.tagName,\r\n    text: el.text,\r\n    title: el.title,\r\n    type: el.type\r\n  };\r\n}\r\n","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","import KeenCore from './index';\r\nimport each from 'keen-core/lib/utils/each';\r\nimport extend from 'keen-core/lib/utils/extend';\r\nimport { listenerCore } from './utils/listener';\r\nimport {\r\n  recordEvent,\r\n  recordEvents\r\n} from './record-events-browser';\r\nimport {\r\n  deferEvent,\r\n  deferEvents,\r\n  queueCapacity,\r\n  queueInterval,\r\n  recordDeferredEvents\r\n} from './defer-events';\r\nimport { extendEvent, extendEvents } from './extend-events';\r\nimport { initAutoTrackingCore } from './browser-auto-tracking';\r\nimport { getBrowserProfile } from './helpers/getBrowserProfile';\r\nimport { getDatetimeIndex } from './helpers/getDatetimeIndex';\r\nimport { getDomainName } from './helpers/getDomainName';\r\nimport { getDomNodePath } from './helpers/getDomNodePath';\r\nimport { getDomNodeProfile } from './helpers/getDomNodeProfile';\r\nimport { getScreenProfile } from './helpers/getScreenProfile';\r\nimport { getScrollState } from './helpers/getScrollState';\r\nimport { getUniqueId } from './helpers/getUniqueId';\r\nimport { getWindowProfile } from './helpers/getWindowProfile';\r\nimport { cookie } from './utils/cookie';\r\nimport { deepExtend } from './utils/deepExtend';\r\nimport { serializeForm } from './utils/serializeForm';\r\nimport { timer } from './utils/timer';\r\n\r\n// ------------------------\r\n// Methods\r\n// ------------------------\r\nextend(KeenCore.prototype, {\r\n  recordEvent,\r\n  recordEvents\r\n});\r\n\r\nextend(KeenCore.prototype, {\r\n  deferEvent,\r\n  deferEvents,\r\n  queueCapacity,\r\n  queueInterval,\r\n  recordDeferredEvents\r\n});\r\nextend(KeenCore.prototype, {\r\n  extendEvent,\r\n  extendEvents\r\n});\r\n\r\n// ------------------------\r\n// Auto-Tracking\r\n// ------------------------\r\nconst initAutoTracking = initAutoTrackingCore(KeenCore);\r\nextend(KeenCore.prototype, {\r\n  initAutoTracking\r\n});\r\n\r\n// ------------------------\r\n// Helpers\r\n// ------------------------\r\nextend(KeenCore.helpers, {\r\n  getBrowserProfile,\r\n  getDatetimeIndex,\r\n  getDomainName,\r\n  getDomNodePath,\r\n  getDomNodeProfile,\r\n  getScreenProfile,\r\n  getScrollState,\r\n  getUniqueId,\r\n  getWindowProfile\r\n});\r\n\r\n// ------------------------\r\n// Utils\r\n// ------------------------\r\nconst listener = listenerCore(KeenCore);\r\nextend(KeenCore.utils, {\r\n  cookie,\r\n  deepExtend,\r\n  listener,\r\n  serializeForm,\r\n  timer\r\n});\r\n\r\nKeenCore.listenTo = (listenerHash) => {\r\n  each(listenerHash, (callback, key) => {\r\n    let split = key.split(' ');\r\n    let eventType = split[0],\r\n    selector = split.slice(1, split.length).join(' ');\r\n    // Create an unassigned listener\r\n    return listener(selector).on(eventType, callback);\r\n  });\r\n};\r\n\r\nexport let keenGlobals = undefined;\r\nif (typeof webpackKeenGlobals !== 'undefined') {\r\n  keenGlobals = webpackKeenGlobals;\r\n}\r\n\r\nexport const Keen = KeenCore.extendLibrary(KeenCore); // deprecated, left for backward compatibility\r\nexport const KeenTracking = Keen;\r\nexport default Keen;\r\n","(function(env){\n  var previousKeen = env.Keen || undefined;\n  var each = require('./utils/each'),\n      extend = require('./utils/extend'),\n      parseParams = require('./utils/parse-params'),\n      serialize = require('./utils/serialize');\n\n  var Emitter = require('component-emitter');\n\n  function Client(props){\n    if (this instanceof Client === false) {\n      return new Client(props);\n    }\n    this.configure(props);\n\n    // Set up event handling\n    if (Client.debug) {\n      this.on('error', Client.log);\n    }\n    this.emit('ready');\n    Client.emit('client', this);\n  }\n\n  if (previousKeen && typeof previousKeen.resources === 'undefined') {\n    Client.legacyVersion = previousKeen;\n  }\n\n  Emitter(Client);\n  Emitter(Client.prototype);\n\n  extend(Client, {\n    debug: false,\n    enabled: true,\n    loaded: false,\n    version: '__VERSION__'\n  });\n\n  // Set or extend helpers\n  Client.helpers = Client.helpers || {};\n\n  // Set or extend resources\n  Client.resources = Client.resources || {};\n  extend(Client.resources, {\n    'base'      : '{protocol}://{host}',\n    'version'   : '{protocol}://{host}/3.0',\n    'projects'  : '{protocol}://{host}/3.0/projects',\n    'projectId' : '{protocol}://{host}/3.0/projects/{projectId}',\n    'events'    : '{protocol}://{host}/3.0/projects/{projectId}/events',\n    'queries'   : '{protocol}://{host}/3.0/projects/{projectId}/queries'\n  });\n\n  // Set or extend utils\n  Client.utils = Client.utils || {};\n  extend(Client.utils, {\n    'each'        : each,\n    'extend'      : extend,\n    'parseParams' : parseParams,\n    'serialize'   : serialize\n  });\n\n  Client.extendLibrary = function(target, source) {\n    var previous = previousKeen || source;\n    if (isDefined(previous) && isDefined(previous.resources)) {\n      each(previous, function(value, key) {\n        if (typeof value === 'object') {\n          target[key] = target[key] || {};\n          extend(target[key], value);\n        }\n        else {\n          target[key] = target[key] || value;\n        }\n      });\n      extend(target.prototype, previous.prototype);\n    }\n    return target;\n  };\n\n  Client.log = function(str){\n    if (Client.debug && typeof console === 'object') {\n      console.log('[Keen]', str);\n    }\n  };\n\n  Client.noConflict = function(){\n    if (typeof env.Keen !== 'undefined') {\n      env.Keen = Client.legacyVersion || previousKeen;\n    }\n    return Client;\n  };\n\n  Client.ready = function(fn){\n    if (Client.loaded) {\n      fn();\n    }\n    else {\n      Client.once('ready', fn);\n    }\n  };\n\n  Client.prototype.configure = function(obj){\n    var config = obj || {};\n    this.config = this.config || {\n      projectId    : undefined,\n      writeKey     : undefined,\n      host         : 'api.keen.io',\n      protocol     : 'https',\n      requestType  : 'jsonp',\n      resources    : extend({}, Client.resources)\n    };\n\n    // IE<10 request shim\n    if (typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1) {\n      config.protocol = document.location.protocol.replace(':', '');\n    }\n\n    if (config.host) {\n      config.host.replace(/.*?:\\/\\//g, '');\n    }\n\n    extend(this.config, config);\n    return this;\n  };\n\n  Client.prototype.masterKey = function(str){\n    if (!arguments.length) return this.config.masterKey;\n    this.config.masterKey = str ? String(str) : null;\n    return this;\n  };\n\n  Client.prototype.projectId = function(str){\n    if (!arguments.length) return this.config.projectId;\n    this.config.projectId = (str ? String(str) : null);\n    return this;\n  };\n\n  Client.prototype.resources = function(obj){\n    if (!arguments.length) return this.config.resources;\n    var self = this;\n    if (typeof obj === 'object') {\n      each(obj, function(value, key){\n        self.config.resources[key] = (value ? value : null);\n      });\n    }\n    return self;\n  };\n\n  Client.prototype.url = function(name){\n    var args = Array.prototype.slice.call(arguments, 1),\n        baseUrl = this.config.resources.base || '{protocol}://{host}',\n        path;\n\n    if (name && typeof name === 'string') {\n      if (this.config.resources[name]) {\n        path = this.config.resources[name];\n      }\n      else {\n        path = baseUrl + name;\n      }\n    }\n    else {\n      path = baseUrl;\n    }\n\n    each(this.config, function(value, key){\n      if (typeof value !== 'object') {\n        path = path.replace('{' + key + '}', value);\n      }\n    });\n\n    each(args, function(arg, i){\n      if (typeof arg === 'string') {\n        path += '/' + arg;\n      }\n      else if (typeof arg === 'object') {\n        path += '?';\n        each(arg, function(value, key){\n          path += key + '=' + value + '&';\n        });\n        path = path.slice(0, -1);\n      }\n    });\n\n    return path;\n  };\n\n  domReady(function(){\n    Client.loaded = true;\n    Client.emit('ready');\n  });\n\n  function domReady(fn){\n    if (Client.loaded || typeof document === 'undefined') {\n      fn();\n      return;\n    }\n    // Firefox 3.5 shim\n    if(document.readyState == null && document.addEventListener){\n      document.addEventListener('DOMContentLoaded', function DOMContentLoaded(){\n        document.removeEventListener('DOMContentLoaded', DOMContentLoaded, false);\n        document.readyState = 'complete';\n      }, false);\n      document.readyState = 'loading';\n    }\n    testDom(fn);\n  }\n\n  function testDom(fn){\n    if (/in/.test(document.readyState)) {\n      setTimeout(function(){\n        testDom(fn);\n      }, 9);\n    }\n    else {\n      fn();\n    }\n  }\n\n  function isDefined(target) {\n    return typeof target !== 'undefined';\n  }\n\n  function isUndefined(target) {\n    return typeof target === 'undefined';\n  }\n\n  module.exports = Client;\n\n}).call(this, typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {});\n","module.exports = parseParams;\n\nfunction parseParams(str){\n  // via: http://stackoverflow.com/a/2880929/2511985\n  var urlParams = {},\n      match,\n      pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n      search = /([^&=]+)=?([^&]*)/g,\n      decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n      query  = str.split(\"?\")[1];\n\n  while (!!(match=search.exec(query))) {\n    urlParams[decode(match[1])] = decode(match[2]);\n  }\n  return urlParams;\n};\n","var each = require('./each'),\n    extend = require('./extend');\n\nmodule.exports = serialize;\n\nfunction serialize(data){\n  var query = [];\n  each(data, function(value, key){\n    if ('string' !== typeof value) {\n      value = JSON.stringify(value);\n    }\n    query.push(key + '=' + encodeURIComponent(value));\n  });\n  return query.join('&');\n}\n","import Emitter from 'component-emitter';\r\nimport each from 'keen-core/lib/utils/each';\r\n/*\r\n\r\n  // Create a new element listner\r\n  var myClickerCatcher = Keen.utils.listener(\".nav li > a\");\r\n\r\n  // Listen for a given event\r\n  myClicker.on(\"click\", function(e){\r\n    // do stuff!\r\n  });\r\n\r\n  // Listen for event once\r\n  myClicker.once(\"click\", function(e){ });\r\n\r\n  // Cancel a given event listener\r\n  myClicker.off(\"click\");\r\n\r\n  // Cancel all event listners\r\n  myClicker.off();\r\n\r\n*/\r\n\r\nexport const listenerCore = function(ctx){\r\n\r\n  // Make sure this object exists\r\n  ctx.domListeners = ctx.domListeners || {\r\n    /*\r\n    'click': {\r\n      '.nav li > a': [fn, fn, fn]\r\n    }\r\n    */\r\n  };\r\n\r\n  function listener(str){\r\n    if (!str) return;\r\n    if (this instanceof listener === false) {\r\n      return new listener(str);\r\n    }\r\n    this.selector = str;\r\n    return this;\r\n  }\r\n\r\n  listener.prototype.on = function(str, fn){\r\n    var self = this;\r\n\r\n    if (arguments.length !== 2 || 'string' !== typeof str || 'function' !== typeof fn) return this;\r\n\r\n    // Set each listener on a parent dictionary, indexed by event:\r\n    if ('undefined' === typeof ctx.domListeners[str]) {\r\n      addListener(str, eventHandler(str));\r\n      ctx.domListeners[str] = {};\r\n    }\r\n    ctx.domListeners[str][self.selector] = ctx.domListeners[str][self.selector] || [];\r\n    ctx.domListeners[str][self.selector].push(fn);\r\n    return self;\r\n  };\r\n\r\n  listener.prototype.once = function(str, fn){\r\n    var self = this;\r\n    function on() {\r\n      self.off(str, on);\r\n      return fn.apply(self, arguments);\r\n    }\r\n    on.fn = fn;\r\n    self.on(str, on);\r\n    return self;\r\n  };\r\n\r\n  listener.prototype.off = function(str, fn){\r\n    var self = this, survivors = [];\r\n    if (arguments.length === 2) {\r\n      each(ctx.domListeners[str][self.selector], function(handler, i){\r\n        if (handler === fn || handler.fn === fn) return;\r\n        survivors.push(handler);\r\n      });\r\n      ctx.domListeners[str][self.selector] = survivors;\r\n    }\r\n    else if (arguments.length === 1) {\r\n      try {\r\n        delete ctx.domListeners[str][self.selector];\r\n      }\r\n      catch(e){\r\n        ctx.domListeners[str][self.selector] = [];\r\n      }\r\n    }\r\n    else {\r\n      // loop over every eventType and delete handlers\r\n      each(ctx.domListeners, function(hash, eventType){\r\n        // if ('undefined' === typeof hash[str]) return;\r\n        try {\r\n          delete ctx.domListeners[eventType][self.selector];\r\n        }\r\n        catch(e){\r\n          ctx.domListeners[eventType][self.selector] = function(){};\r\n        }\r\n      });\r\n    }\r\n    return self;\r\n  };\r\n\r\n  function eventHandler(eventType){\r\n    return function(e){\r\n      var evt, target;\r\n\r\n      evt = e || window.event;\r\n      target = evt.target || evt.srcElement;\r\n\r\n      // If nothing assigned to this event type, let it go\r\n      if ('undefined' === ctx.domListeners[eventType]) return;\r\n\r\n      each(ctx.domListeners[eventType], function(handlers, key){\r\n\r\n        if (matches(target, key)) {\r\n          // Call all handlers for this eventType + node\r\n          each(handlers, function(fn, i){\r\n            fn(evt);\r\n          });\r\n        }\r\n        else if ('window' === key) {\r\n          // Call all handlers\r\n          each(handlers, function(fn, i){\r\n            fn(evt);\r\n          });\r\n        }\r\n        return;\r\n      });\r\n    };\r\n  }\r\n\r\n  return listener;\r\n}\r\n\r\n\r\n// ------------------------------\r\n// Attach global event listener\r\n// ------------------------------\r\n\r\nfunction addListener(eventType, fn){\r\n  if (document.addEventListener) {\r\n    document.addEventListener(eventType, fn, false);\r\n  } else {\r\n    document.attachEvent(\"on\" + eventType, fn);\r\n  }\r\n}\r\n\r\n\r\n// ------------------------------\r\n// Match DOM element to selector\r\n// ------------------------------\r\n\r\nfunction matches(elem, selector) {\r\n  // We'll use querySelectorAll to find all element matching the selector,\r\n  // then check if the given element is included in that list.\r\n  // Executing the query on the parentNode reduces the resulting nodeList,\r\n  // document doesn't have a parentNode, though.\r\n  var nodeList = ( elem.parentNode || document ).querySelectorAll( selector ) || [],\r\n      i = nodeList.length;\r\n\r\n  // loop on the nodeList\r\n  while ( i-- ) {\r\n    if ( nodeList[i] == elem ) { return true; }\r\n  }\r\n  return false;\r\n}\r\n","import 'promise-polyfill/src/polyfill';\r\nimport 'whatwg-fetch';\r\n\r\nimport base64 from 'keen-core/lib/utils/base64';\r\nimport each from 'keen-core/lib/utils/each';\r\nimport extend from 'keen-core/lib/utils/extend';\r\n\r\nimport Keen from './index';\r\nimport { getExtendedEventBody } from './extend-events';\r\nimport fetchRetry from './utils/fetchRetry';\r\nimport isUnique from './utils/unique';\r\n\r\n// ------------------------------\r\n// .recordEvent\r\n// ------------------------------\r\n\r\nexport function recordEvent(eventCollectionOrConfigObject, eventBody, callback){\r\n  let eventCollection = eventCollectionOrConfigObject;\r\n  let useBeaconApi = false;\r\n  let unique;\r\n  let configObject;\r\n  let clientConfig = this.config;\r\n\r\n  if (typeof eventCollectionOrConfigObject === 'object'\r\n    && eventCollectionOrConfigObject) {\r\n    // slowly but surely we migrate to one object with all args\r\n    configObject = eventCollectionOrConfigObject;\r\n    eventCollection = eventCollectionOrConfigObject.collection;\r\n    eventBody = eventCollectionOrConfigObject.event;\r\n    callback = eventCollectionOrConfigObject.callback;\r\n    unique = eventCollectionOrConfigObject.unique;\r\n  }\r\n\r\n  const url = this.url('events', encodeURIComponent(eventCollection));\r\n  let data = {};\r\n\r\n  if (!checkValidation.call(this, callback)) {\r\n    return;\r\n  }\r\n\r\n  if (!eventCollection || typeof eventCollection !== 'string') {\r\n    handleValidationError.call(this, 'Collection name must be a string.', callback);\r\n    return;\r\n  }\r\n\r\n  extend(data, eventBody);\r\n\r\n  // ------------------------------\r\n  // Run extendEvent(s) transforms\r\n  // ------------------------------\r\n  const extendedEventsHash = {};\r\n  getExtendedEventBody(extendedEventsHash, this.extensions.events);\r\n  getExtendedEventBody(extendedEventsHash, this.extensions.collections[eventCollection]);\r\n  getExtendedEventBody(extendedEventsHash, [data]);\r\n\r\n  if (unique) {\r\n    return isUnique(configObject, extendedEventsHash).then(isUniqueResult => {\r\n      if (!isUniqueResult) {\r\n        return Promise.resolve({\r\n          created: false,\r\n          message: '[NOT_UNIQUE] This event has already been recorded'\r\n        });\r\n      }\r\n      return recordEvent.call(this, { ...eventCollectionOrConfigObject, unique: undefined });\r\n    });\r\n  }\r\n\r\n  this.emit('recordEvent', eventCollection, extendedEventsHash);\r\n\r\n  if (!Keen.enabled) {\r\n    handleValidationError.call(this, 'Keen.enabled is set to false.', callback);\r\n    return false;\r\n  }\r\n\r\n  return send.call(this, { url, extendedEventsHash, callback, configObject, eventCollection });\r\n}\r\n\r\n// ------------------------------\r\n// .recordEvents\r\n// ------------------------------\r\n\r\nexport function recordEvents(eventsHash, callback){\r\n  const self = this;\r\n  const url = this.url('events');\r\n\r\n  if (!checkValidation.call(this, callback)) {\r\n    return;\r\n  }\r\n\r\n  if ('object' !== typeof eventsHash || eventsHash instanceof Array) {\r\n    handleValidationError.call(this, 'First argument must be an object', callback );\r\n    return;\r\n  }\r\n\r\n  if (arguments.length > 2) {\r\n    handleValidationError.call(this, 'Incorrect arguments provided to #recordEvents method', callback);\r\n    return;\r\n  }\r\n\r\n  // ------------------------------\r\n  // Run extendEvent(s) transforms\r\n  // ------------------------------\r\n  const extendedEventsHash = {};\r\n  each(eventsHash, function(eventList, eventCollection){\r\n    // Find or create collection on new hash\r\n    extendedEventsHash[eventCollection] = extendedEventsHash[eventCollection] || [];\r\n    // Loop over each eventBody in the existing hash\r\n    each(eventList, function(eventBody, index){\r\n      // Create a new data object\r\n      let extendedEventBody = {};\r\n      // Process \"events\" transform pipeline\r\n      getExtendedEventBody(extendedEventBody, self.extensions.events);\r\n      // Process \"collection\" transform pipeline\r\n      getExtendedEventBody(extendedEventBody, self.extensions.collections[eventCollection]);\r\n      // Blend existing eventBody data into the result\r\n      getExtendedEventBody(extendedEventBody, [eventBody]);\r\n      // Push extendedEventBody into new hash\r\n      extendedEventsHash[eventCollection].push(extendedEventBody);\r\n    });\r\n  });\r\n\r\n  this.emit('recordEvents', extendedEventsHash);\r\n\r\n  if (!Keen.enabled) {\r\n    handleValidationError.call(this, 'Keen.enabled is set to false.', callback);\r\n    return false;\r\n  }\r\n\r\n  return send.call(this, { url, extendedEventsHash, callback });\r\n}\r\n\r\nfunction send({ url, extendedEventsHash, callback, configObject = {}, eventCollection}){\r\n  const clientConfig = this.config;\r\n  const requestType = configObject.requestType // specific method for one request\r\n    || this.config.requestType; // global request type of client\r\n\r\n  if (\r\n    navigator && navigator.sendBeacon &&\r\n    (requestType === 'beaconAPI' || requestType === 'beacon')\r\n      // so you can send specific recordEvent() using beaconAPI\r\n      // even if your global client's config prefers Fetch\r\n  ) {\r\n    navigator.sendBeacon(\r\n      `${url}?api_key=${this.writeKey()}`,\r\n      JSON.stringify(extendedEventsHash)\r\n    );\r\n    if (callback) {\r\n      // Beacon API is not handling responses nor errors\r\n      callback();\r\n    }\r\n    return this;\r\n  }\r\n\r\n  // this is IMAGE beacon, not the Beacon API. deprecated\r\n  if (requestType === 'beacon' || requestType === 'img') {\r\n    const getRequestUrl = this.url('events', encodeURIComponent(eventCollection), {\r\n      api_key  : this.writeKey(),\r\n      data     : encodeURIComponent( base64.encode( JSON.stringify(extendedEventsHash) ) ),\r\n      modified : new Date().getTime()\r\n    });\r\n    const getRequestUrlOkLength = getRequestUrl.length < getUrlMaxLength();\r\n\r\n    if (getRequestUrlOkLength) {\r\n      sendBeacon.call(this, getRequestUrl, callback);\r\n    }\r\n    else {\r\n      if (callback) {\r\n        callback('Beacon URL length exceeds current browser limit, and XHR is not supported.', null);\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  if (typeof fetch !== 'undefined') {\r\n    return sendFetch.call(this, 'POST', url, extendedEventsHash, callback);\r\n  }\r\n\r\n  return this;\r\n}\r\n\r\nfunction sendFetch(method, url, data, callback = undefined){\r\n  const self = this;\r\n\r\n  return fetchRetry(url, {\r\n      method,\r\n      body: data ? JSON.stringify(data) : '',\r\n      mode: 'cors',\r\n      redirect: 'follow',\r\n      referrerPolicy: self.referrerPolicy() || 'unsafe-url',\r\n      headers: {\r\n        'Authorization': self.writeKey(),\r\n        'Content-Type': 'application/json'\r\n      },\r\n      // keepalive: true, not supported for CORS yet\r\n      retry: self.config.retry\r\n    })\r\n    .catch(connectionError => {\r\n      if (typeof callback !== 'undefined') {\r\n        callback.call(self, connectionError, null);\r\n      }\r\n      self.emit('error', connectionError);\r\n      return Promise.reject(connectionError);\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n\r\n      return response.json().then(responseJSON => {\r\n        return Promise.reject({\r\n          error_code: responseJSON.error_code,\r\n          body: responseJSON.message,\r\n          status: response.status,\r\n          ok: false,\r\n          statusText: response.statusText\r\n        });\r\n      });\r\n    }).then(responseJSON => {\r\n      const eventsSavedSuccessfuly = checkEventsSavedSuccessfuly(responseJSON);\r\n      if (eventsSavedSuccessfuly) {\r\n        if (typeof callback !== 'undefined') {\r\n          callback.call(self, null, responseJSON);\r\n        }\r\n        return Promise.resolve(responseJSON);\r\n      } else {\r\n        if (typeof callback !== 'undefined') {\r\n          callback.call(self, responseJSON, null);\r\n        }\r\n        self.emit('error', responseJSON);\r\n        return Promise.reject(responseJSON);\r\n      }\r\n    });\r\n}\r\n\r\nfunction checkEventsSavedSuccessfuly(response){\r\n  // single event\r\n  if (typeof response.created !== 'undefined') {\r\n    if (response.created) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  // multiple events\r\n  const responseKeys = Object.keys(response);\r\n  const notSavedEvents = responseKeys\r\n    .map(collection => {\r\n      return response[collection].filter(event => !event.success);\r\n    })\r\n    .filter(collection => collection.length > 0);\r\n\r\n  if (notSavedEvents.length === 0) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n// Validation\r\nfunction checkValidation(callback){\r\n\r\n  if (!this.projectId()) {\r\n    handleValidationError.call(this, 'Keen.Client is missing a projectId property.', callback);\r\n    return false;\r\n  }\r\n  if (!this.writeKey()) {\r\n    handleValidationError.call(this, 'Keen.Client is missing a writeKey property.', callback);\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction handleValidationError(message, callback){\r\n  const err = `Event(s) not recorded: ${message}`;\r\n  this.emit('error', err);\r\n  if (callback) {\r\n    callback.call(this, err, null);\r\n  }\r\n}\r\n\r\nfunction getUrlMaxLength(){\r\n  if ('undefined' !== typeof window && navigator) {\r\n    if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > 0) {\r\n      return 1900;\r\n    }\r\n  }\r\n  return 16000;\r\n}\r\n\r\n/*\r\n  DEPRECATED METHODS\r\n*/\r\n\r\n// Image Beacon Requests\r\n// DEPRECATED\r\nfunction sendBeacon(url, callback){\r\n  var self = this,\r\n      img = document.createElement('img'),\r\n      loaded = false;\r\n\r\n  img.onload = function() {\r\n    loaded = true;\r\n    if ('naturalHeight' in this) {\r\n      if (this.naturalHeight + this.naturalWidth === 0) {\r\n        this.onerror();\r\n        return;\r\n      }\r\n    } else if (this.width + this.height === 0) {\r\n      this.onerror();\r\n      return;\r\n    }\r\n    if (callback) {\r\n      callback.call(self);\r\n    }\r\n  };\r\n  img.onerror = function() {\r\n    loaded = true;\r\n    if (callback) {\r\n      callback.call(self, 'An error occurred!', null);\r\n    }\r\n  };\r\n  img.src = url + '&c=clv1';\r\n}\r\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = {\n  map: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n  encode: function (n) {\n    \"use strict\";\n    var o = \"\", i = 0, m = this.map, i1, i2, i3, e1, e2, e3, e4;\n    n = this.utf8.encode(n);\n    while (i < n.length) {\n      i1 = n.charCodeAt(i++); i2 = n.charCodeAt(i++); i3 = n.charCodeAt(i++);\n      e1 = (i1 >> 2); e2 = (((i1 & 3) << 4) | (i2 >> 4)); e3 = (isNaN(i2) ? 64 : ((i2 & 15) << 2) | (i3 >> 6));\n      e4 = (isNaN(i2) || isNaN(i3)) ? 64 : i3 & 63;\n      o = o + m.charAt(e1) + m.charAt(e2) + m.charAt(e3) + m.charAt(e4);\n    } return o;\n  },\n  decode: function (n) {\n    \"use strict\";\n    var o = \"\", i = 0, m = this.map, cc = String.fromCharCode, e1, e2, e3, e4, c1, c2, c3;\n    n = n.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n    while (i < n.length) {\n      e1 = m.indexOf(n.charAt(i++)); e2 = m.indexOf(n.charAt(i++));\n      e3 = m.indexOf(n.charAt(i++)); e4 = m.indexOf(n.charAt(i++));\n      c1 = (e1 << 2) | (e2 >> 4); c2 = ((e2 & 15) << 4) | (e3 >> 2);\n      c3 = ((e3 & 3) << 6) | e4;\n      o = o + (cc(c1) + ((e3 != 64) ? cc(c2) : \"\")) + (((e4 != 64) ? cc(c3) : \"\"));\n    } return this.utf8.decode(o);\n  },\n  utf8: {\n    encode: function (n) {\n      \"use strict\";\n      var o = \"\", i = 0, cc = String.fromCharCode, c;\n      while (i < n.length) {\n        c = n.charCodeAt(i++); o = o + ((c < 128) ? cc(c) : ((c > 127) && (c < 2048)) ?\n        (cc((c >> 6) | 192) + cc((c & 63) | 128)) : (cc((c >> 12) | 224) + cc(((c >> 6) & 63) | 128) + cc((c & 63) | 128)));\n        } return o;\n    },\n    decode: function (n) {\n      \"use strict\";\n      var o = \"\", i = 0, cc = String.fromCharCode, c2, c;\n      while (i < n.length) {\n        c = n.charCodeAt(i);\n        o = o + ((c < 128) ? [cc(c), i++][0] : ((c > 191) && (c < 224)) ?\n        [cc(((c & 31) << 6) | ((c2 = n.charCodeAt(i + 1)) & 63)), (i += 2)][0] :\n        [cc(((c & 15) << 12) | (((c2 = n.charCodeAt(i + 1)) & 63) << 6) | ((c3 = n.charCodeAt(i + 2)) & 63)), (i += 3)][0]);\n      } return o;\n    }\n  }\n};\n","import 'promise-polyfill/src/polyfill';\r\nimport 'whatwg-fetch';\r\n\r\nimport configDefault from '../config-default.js';\r\n\r\nexport default function(url, options) {\r\n  const config = {\r\n    ...configDefault,\r\n    ...(options.retry || {})\r\n  };\r\n\r\n  const retriesLimit = config.retry.limit;\r\n  const retryInitialDelay = config.retry.initialDelay;\r\n  const retryOn = config.retry.retryOnResponseStatuses;\r\n  let retriesCount = 0;\r\n\r\n  if (retryOn && !(retryOn instanceof Array)) {\r\n    throw {\r\n      name: 'ArgumentError',\r\n      message: 'retryOn property expects an array'\r\n    }\r\n  }\r\n\r\n  return new Promise(function(resolve, reject) {\r\n    const wrappedFetch = function(n) {\r\n      fetch(url, options)\r\n        .then(function(response) {\r\n          if (retryOn.indexOf(response.status) === -1) {\r\n            resolve(response);\r\n          } else {\r\n            if (n > 0) {\r\n              retry();\r\n            } else {\r\n              reject(response);\r\n            }\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          if (n > 0) {\r\n            retry();\r\n          } else {\r\n            reject(error);\r\n          }\r\n        });\r\n    };\r\n\r\n    function retry() {\r\n      retriesCount = retriesCount + 1;\r\n      setTimeout(function() {\r\n          wrappedFetch(retriesLimit - retriesCount);\r\n        }, 2^retriesCount * retryInitialDelay);\r\n    }\r\n\r\n    wrappedFetch(retriesLimit - retriesCount);\r\n  });\r\n};\r\n","import 'promise-polyfill/src/polyfill';\r\n\r\nimport md5 from './md5';\r\nimport { getFromCache, saveToCache } from './cache-browser';\r\n\r\nimport configDefault from '../config-default.js';\r\n\r\nlet uniqueIds = [];\r\n\r\nexport const isUnique = (customCacheConfig, extendedEventBody) => {\r\n  const configCache = { ...configDefault.cache, ...customCacheConfig.cache };\r\n  const stringifiedEvent = JSON.stringify(extendedEventBody);\r\n  const { hashingMethod } = configCache;\r\n  const hash = hashingMethod && hashingMethod.toLowerCase() === 'md5'\r\n    ? md5(stringifiedEvent) : stringifiedEvent;\r\n  const expiryTime = configCache.maxAge ? (Date.now() + configCache.maxAge) : undefined;\r\n  const item = {\r\n    hash,\r\n    expiryTime\r\n  };\r\n  if (expiryTime){\r\n    const now = Date.now();\r\n    uniqueIds = uniqueIds.filter(item => item.expiryTime > now);\r\n  }\r\n\r\n  const alreadySentEvent = uniqueIds.find(item => item.hash === hash);\r\n  if (alreadySentEvent) {\r\n    if (alreadySentEvent.expiryTime && alreadySentEvent.expiryTime < Date.now()) {\r\n      uniqueIds = uniqueIds.filter(item => item.hash !== hash);\r\n    } else {\r\n      return Promise.resolve(false);\r\n    }\r\n  }\r\n  uniqueIds.push(item);\r\n  if (configCache.storage && configCache.storage.toLowerCase() === 'indexeddb') {\r\n    return getFromCache(hash, configCache).then(alreadySentEvent => {\r\n      if (alreadySentEvent) {\r\n        return false;\r\n      }\r\n      saveToCache(hash, configCache);\r\n      return true;\r\n    });\r\n  }\r\n\r\n  return Promise.resolve(true);\r\n}\r\n\r\nexport default isUnique;\r\n","import 'promise-polyfill/src/polyfill';\r\nimport 'whatwg-fetch';\r\n\r\nimport md5 from './md5';\r\n\r\nimport configDefault from '../config-default.js';\r\n\r\nif (typeof self === 'undefined') {\r\n  throw 'IndexedDB is available only in Browser ENV';\r\n}\r\n\r\nconst indexedDBAvailable = 'indexedDB' in self;\r\nlet cachingEnabled = true;\r\n\r\nif (!indexedDBAvailable) {\r\n    // console.log(\"Your browser doesn't support a stable version of IndexedDB.\");\r\n    cachingEnabled = false; // graceful degradation\r\n}\r\n\r\nlet db;\r\nlet cacheConfig = {\r\n  ...configDefault.cache\r\n};\r\n\r\nfunction initializeIndexedDb(requestCacheConfig = {}){\r\n  if (db) { return Promise.resolve(); }\r\n  if (!cachingEnabled) { return Promise.resolve(); }\r\n  cacheConfig = {\r\n    ...cacheConfig,\r\n    ...requestCacheConfig\r\n  };\r\n  return new Promise((resolve, reject) => {\r\n    const dbConnectionRequest = self.indexedDB.open(cacheConfig.dbName);\r\n    dbConnectionRequest.onerror = function(event) {\r\n      cachingEnabled = false;\r\n      resolve();\r\n    };\r\n\r\n    dbConnectionRequest.onupgradeneeded = function(event) {\r\n      const db = event.target.result;\r\n      const objectStore = db\r\n        .createObjectStore(cacheConfig.dbCollectionName,\r\n          { keyPath: cacheConfig.dbCollectionKey });\r\n      objectStore.createIndex(\r\n        cacheConfig.dbCollectionKey,\r\n        cacheConfig.dbCollectionKey,\r\n        { unique: true }\r\n      );\r\n      objectStore.createIndex('expiryTime', 'expiryTime', { unique: false });\r\n    };\r\n\r\n    dbConnectionRequest.onsuccess = function(event) {\r\n      db = event.target.result;\r\n      db.onerror = function(event) {\r\n        cachingEnabled = false; // graceful degradation\r\n      };\r\n      resolve(db);\r\n    };\r\n  });\r\n}\r\n\r\nexport const saveToCache = (hash, configOptions = {}) => {\r\n  return initializeIndexedDb(configOptions).then(() => {\r\n    const transactionSave = db\r\n      .transaction(cacheConfig.dbCollectionName, \"readwrite\")\r\n      .objectStore(cacheConfig.dbCollectionName);\r\n    const requestSave = transactionSave.add({\r\n      hash,\r\n      expiryTime: Date.now() + cacheConfig.maxAge\r\n    });\r\n    requestSave.onsuccess = function(event) {\r\n    };\r\n    requestSave.onerror = function(event) {\r\n      cachingEnabled = false;\r\n    };\r\n  });\r\n}\r\n\r\nexport const getFromCache = (hash, configOptions = {}) => {\r\n  return initializeIndexedDb(configOptions).then(() => {\r\n    return new Promise((resolve, reject) => {\r\n      if (!cachingEnabled) {\r\n        return resolve(null);\r\n      }\r\n\r\n      const transactionCleanUp = db\r\n        .transaction(cacheConfig.dbCollectionName, \"readwrite\")\r\n        .objectStore(cacheConfig.dbCollectionName);\r\n      const indexCleanUp = transactionCleanUp.index('expiryTime');\r\n      const upperBoundOpenKeyRange = IDBKeyRange.upperBound(Date.now(), true);\r\n      indexCleanUp.openCursor(upperBoundOpenKeyRange).onsuccess = function(event) {\r\n        let cursor = event.target.result;\r\n        if (cursor) {\r\n          let transactionDelete = db\r\n            .transaction(cacheConfig.dbCollectionName, \"readwrite\")\r\n            .objectStore(cacheConfig.dbCollectionName)\r\n            .delete(event.target.result.value[cacheConfig.dbCollectionKey]);\r\n          cursor.continue();\r\n        }\r\n      };\r\n\r\n      const transactionIndex = db\r\n        .transaction(cacheConfig.dbCollectionName, \"readwrite\")\r\n        .objectStore(cacheConfig.dbCollectionName);\r\n      const index = transactionIndex.index(cacheConfig.dbCollectionKey);\r\n      const responseFromCache = index.get(hash);\r\n      responseFromCache.onsuccess = function(event) {\r\n        if (!event.target.result ||\r\n          event.target.result.expiryTime < Date.now()\r\n        ) {\r\n          if (event.target.result && event.target.result.expiryTime < Date.now()){\r\n            const transactionDelete = db\r\n              .transaction(cacheConfig.dbCollectionName, \"readwrite\")\r\n              .objectStore(cacheConfig.dbCollectionName)\r\n              .delete(event.target.result[cacheConfig.dbCollectionKey]);\r\n            transactionDelete.onsuccess = (event) => {\r\n              resolve(getFromCache(hash, configOptions));\r\n            };\r\n            transactionDelete.onerror = (event) => {\r\n              cachingEnabled = false;\r\n              resolve(getFromCache(hash, configOptions));\r\n            };\r\n            return resolve(null);\r\n          }\r\n          return resolve(null);\r\n        } else {\r\n          return resolve(event.target.result);\r\n        }\r\n      };\r\n      responseFromCache.onerror = function(event) {\r\n        cachingEnabled = false;\r\n        resolve(getFromCache(hash, configOptions));\r\n      };\r\n    });\r\n  });\r\n}\r\n","import Keen from './index';\r\nimport each from 'keen-core/lib/utils/each';\r\nimport { queue } from './utils/queue';\r\n\r\nexport function deferEvent(eventCollection, eventBody){\r\n\r\n  if (arguments.length !== 2 || typeof eventCollection !== 'string') {\r\n    handleValidationError.call(this, 'Incorrect arguments provided to #deferEvent method');\r\n    return;\r\n  }\r\n\r\n  this.queue.events[eventCollection] = this.queue.events[eventCollection] || [];\r\n  this.queue.events[eventCollection].push(eventBody);\r\n  this.queue.capacity++;\r\n  if (!this.queue.timer) {\r\n    this.queue.start();\r\n  }\r\n  this.emit('deferEvent', eventCollection, eventBody);\r\n  return this;\r\n}\r\n\r\nexport function deferEvents(eventsHash){\r\n  var self = this;\r\n\r\n  if (arguments.length !== 1 || typeof eventsHash !== 'object') {\r\n    handleValidationError.call(this, 'Incorrect arguments provided to #deferEvents method');\r\n    return;\r\n  }\r\n\r\n  each(eventsHash, function(eventList, eventCollection){\r\n    self.queue.events[eventCollection] = self.queue.events[eventCollection] || [];\r\n    self.queue.events[eventCollection] = self.queue.events[eventCollection].concat(eventList);\r\n    self.queue.capacity = self.queue.capacity + eventList.length;\r\n    if (!self.queue.timer) {\r\n      self.queue.start();\r\n    }\r\n  });\r\n  self.emit('deferEvents', eventsHash);\r\n  return self;\r\n}\r\n\r\nexport function queueCapacity(num){\r\n  if (!arguments.length) return this.queue.config.capacity;\r\n  this.queue.config.capacity = num ? Number(num): 0;\r\n  this.queue.check();\r\n  return this;\r\n}\r\n\r\nexport function queueInterval(num){\r\n  if (!arguments.length) return this.queue.config.interval;\r\n  this.queue.config.interval = num ? Number(num): 0;\r\n  this.queue.check();\r\n  return this;\r\n}\r\n\r\nexport function recordDeferredEvents(){\r\n  const self = this;\r\n\r\n  if (self.queue.capacity > 0) {\r\n    self.queue.pause();\r\n    let clonedQueueConfig = { ...self.queue.config };\r\n    let clonedQueueEvents = { ...self.queue.events };\r\n    self.queue = queue();\r\n    self.queue.config = clonedQueueConfig;\r\n    self.queue.on('flush', function(){\r\n      self.recordDeferredEvents();\r\n    });\r\n    self.emit('recordDeferredEvents', clonedQueueEvents);\r\n    self.recordEvents(clonedQueueEvents, (err, res) => {\r\n      if (err) {\r\n        self.emit('recordDeferredEventsError', err, clonedQueueEvents);\r\n      }\r\n    });\r\n  }\r\n  return self;\r\n}\r\n\r\nexport function unloadDeferredEvents(){\r\n  self.queue.pause();\r\n  each(self.queue.events, function(events, collection){\r\n    self.recordEvent(collection, events);\r\n  });\r\n}\r\n\r\nfunction handleValidationError(message){\r\n  this.emit('error', `Event(s) not deferred: ${message}`);\r\n}\r\n","import pkg from '../package.json';\r\n\r\nexport function initAutoTrackingCore(lib) {\r\n  return function(obj = {}) {\r\n    const client = this;\r\n    const helpers = lib.helpers;\r\n    const utils = lib.utils;\r\n\r\n    const options = utils.extend({\r\n      ignoreDisabledFormFields: false,\r\n      ignoreFormFieldTypes: ['password'],\r\n      recordClicks: true,\r\n      recordFormSubmits: true,\r\n      recordInputChanges: false,\r\n      recordPageUnloads: false,\r\n      recordPageViews: true,\r\n      recordPageViewsOnExit: false,\r\n      recordScrollState: true,\r\n      shareUuidAcrossDomains: false,\r\n      collectIpAddress: true,\r\n      collectUuid: true,\r\n      catchError: undefined // optional, function(someError) - error handler\r\n    }, obj);\r\n\r\n    const defaultDomElementOptions = {\r\n      recordTextContent: true,\r\n      redactTextContent: true\r\n    }\r\n\r\n    options.domElementOptions = utils.extend(defaultDomElementOptions, obj.domElementOptions);\r\n\r\n    if (client.config.requestType === 'beaconAPI' && options.catchError) {\r\n      throw `You cannot use the BeaconAPI and catchError function in the same time, because BeaconAPI ignores errors. For requests with error handling - use requestType: 'fetch'`;\r\n      return;\r\n    }\r\n\r\n    if (\r\n      client.config.requestType === 'jsonp' // jsonp is deprecated, it's the default value from old keen's client\r\n    ) {\r\n      if (options.catchError) {\r\n        client.config.requestType = 'fetch';\r\n      } else {\r\n        client.config.requestType = 'beaconAPI';\r\n      }\r\n    }\r\n\r\n    const session_cookie = new utils.cookie('prodperfect_session');\r\n    let session_uuid = session_cookie.get('session_uuid');\r\n    if (!session_uuid) {\r\n      session_uuid = helpers.getUniqueId();\r\n    }\r\n    session_cookie.set('session_uuid', session_uuid);\r\n    session_cookie.expire(1/48);\r\n\r\n    const prodperfectTestData = new utils.cookie('prodperfect_test').get('test_run_data');\r\n\r\n    const now = new Date();\r\n    const cookie = new utils.cookie('keen');\r\n\r\n    const domainName = helpers.getDomainName(window.location.hostname);\r\n    const cookieDomain = domainName && options.shareUuidAcrossDomains ? {\r\n      domain: '.' + domainName\r\n    } : {};\r\n\r\n    let uuid;\r\n    if (options.collectUuid) {\r\n      uuid = cookie.get('uuid');\r\n      if (!uuid) {\r\n        uuid = helpers.getUniqueId();\r\n        cookie.set('uuid', uuid, cookieDomain);\r\n      }\r\n    }\r\n\r\n    let initialReferrer = cookie.get('initialReferrer');\r\n    if (!initialReferrer){\r\n      initialReferrer = document && document.referrer || undefined;\r\n      cookie.set('initialReferrer', initialReferrer, cookieDomain);\r\n    }\r\n\r\n    let scrollState = {};\r\n    if (options.recordScrollState) {\r\n      scrollState = helpers.getScrollState();\r\n      utils.listener('window').on('scroll', () => {\r\n        scrollState = helpers.getScrollState(scrollState);\r\n      });\r\n    }\r\n\r\n    const tracker_loaded_at_time = now.toISOString();\r\n    const tracker_load_uuid_value = helpers.getUniqueId();\r\n\r\n    const addons = [\r\n      {\r\n        name: 'keen:ua_parser',\r\n        input: {\r\n          ua_string: 'user_agent'\r\n        },\r\n        output: 'tech'\r\n      },\r\n      {\r\n        name: 'keen:url_parser',\r\n        input: {\r\n          url: 'url.full'\r\n        },\r\n        output: 'url.info'\r\n      },\r\n      {\r\n        name: 'keen:url_parser',\r\n        input: {\r\n          url: 'referrer.full'\r\n        },\r\n        output: 'referrer.info'\r\n      },\r\n      {\r\n        name: 'keen:date_time_parser',\r\n        input: {\r\n          date_time: 'keen.timestamp'\r\n        },\r\n        output: 'time.utc'\r\n      },\r\n      {\r\n        name: 'keen:date_time_parser',\r\n        input: {\r\n          date_time: 'local_time_full'\r\n        },\r\n        output: 'time.local'\r\n      }\r\n    ];\r\n\r\n    let ip_address = '${keen.ip}';\r\n    addons.push({\r\n      name: 'keen:ip_to_geo',\r\n      input: {\r\n        ip: 'ip_address',\r\n        remove_ip_property: !options.collectIpAddress\r\n      },\r\n      output : 'geo'\r\n    });\r\n\r\n    client.extendEvents(function() {\r\n      const browserProfile = helpers.getBrowserProfile();\r\n      return {\r\n        event_uuid:  helpers.getUniqueId(),\r\n        iso_time_full: new Date().toISOString(),\r\n        local_time_full: new Date().toString(),\r\n        session: {\r\n          session_uuid: session_uuid\r\n        },\r\n        tracked_by: pkg.name + '-' + pkg.version,\r\n        tracker_load_uuid: tracker_load_uuid_value,\r\n        tracker_loaded_at: tracker_loaded_at_time,\r\n        prodperfect_test_data: prodperfectTestData,\r\n        user: {\r\n          uuid\r\n        },\r\n        page: {\r\n          title: document ? document.title : null,\r\n          description: browserProfile.description,\r\n          scroll_state: scrollState,\r\n          time_on_page: getSecondsSinceDate(now),\r\n          time_on_page_ms: getMiliSecondsSinceDate(now)\r\n        },\r\n\r\n        ip_address,\r\n        geo: { /* Enriched */ },\r\n\r\n        user_agent: '${keen.user_agent}',\r\n        tech: {\r\n          profile: browserProfile\r\n          /* Enriched */\r\n        },\r\n\r\n        url: {\r\n          full: window ? window.location.href : '',\r\n          info: { /* Enriched */ }\r\n        },\r\n\r\n        referrer: {\r\n          initial: initialReferrer,\r\n          full: document ? document.referrer : '',\r\n          info: { /* Enriched */ }\r\n        },\r\n\r\n        time: {\r\n          local: { /* Enriched */ },\r\n          utc: { /* Enriched */ }\r\n        },\r\n\r\n        keen: {\r\n          timestamp: new Date().toISOString(),\r\n          addons,\r\n        }\r\n      };\r\n    });\r\n\r\n    if (options.recordClicks === true) {\r\n      utils.listener('*').on('click', function(e) {\r\n        const el = e.target;\r\n        const event = {\r\n          element: helpers.getDomNodeProfile(el, options.domElementOptions)\r\n        };\r\n\r\n        if (options.catchError) {\r\n          return client\r\n            .recordEvent({\r\n              collection: 'clicks',\r\n              event\r\n            }).catch(err => {\r\n              options.catchError(err);\r\n            });\r\n        }\r\n\r\n        return client\r\n          .recordEvent({\r\n            collection: 'clicks',\r\n            event\r\n          });\r\n      });\r\n    }\r\n\r\n    if (options.recordFormSubmits === true) {\r\n      utils.listener('form').on('submit', function(e) {\r\n        const el = e.target;\r\n        const serializerOptions = {\r\n          disabled: options.ignoreDisabledFormFields,\r\n          ignoreTypes: options.ignoreFormFieldTypes\r\n        };\r\n        const fields = utils.serializeForm(el, serializerOptions);\r\n        const keys = Object.keys(fields);\r\n        for (let x = 0; x < keys.length; x++) {\r\n          fields[keys[x]] = '---REDACTED---';\r\n        }\r\n        const event = {\r\n          form: {\r\n            action: el.action,\r\n            fields: fields,\r\n            method: el.method\r\n          },\r\n          element: helpers.getDomNodeProfile(el, options.domElementOptions)\r\n        };\r\n\r\n        if (options.catchError) {\r\n          return client\r\n            .recordEvent({\r\n              collection: 'form_submissions',\r\n              event\r\n            })\r\n            .catch(err => {\r\n              options.catchError(err);\r\n            });\r\n        }\r\n\r\n        return client.recordEvent({\r\n          collection: 'form_submissions',\r\n          event\r\n        });\r\n      });\r\n    }\r\n\r\n    if (options.recordInputChanges === true) {\r\n      utils.listener('*').on('change', function (e) {\r\n        var el = e.target;\r\n        var props = {\r\n          element: helpers.getDomNodeProfile(el, options.domElementOptions),\r\n          page: {\r\n            scroll_state: helpers.getScrollState\r\n          }\r\n        };\r\n        client.recordEvent('changes', props);\r\n      });\r\n    }\r\n\r\n    if (options.recordPageUnloads === true && window.addEventListener) {\r\n      window.addEventListener('beforeunload', function (e) {\r\n        client.recordEvent('pageunloads');\r\n      }, false);\r\n    }\r\n\r\n    if (options.recordPageViews === true && !options.recordPageViewsOnExit) {\r\n      if (options.catchError) {\r\n        client\r\n          .recordEvent({\r\n            collection: 'pageviews'\r\n          })\r\n          .catch(err => {\r\n            options.catchError(err);\r\n          });\r\n      } else {\r\n        client\r\n          .recordEvent({\r\n            collection: 'pageviews'\r\n          });\r\n      }\r\n    }\r\n\r\n    if (options.recordPageViewsOnExit && typeof window !== 'undefined') {\r\n      window.addEventListener('beforeunload', () => {\r\n        client.config.requestType = 'beaconAPI'; // you can run beforeunload only with beaconAPI\r\n        client.recordEvent({\r\n          collection: 'pageviews'\r\n        });\r\n      });\r\n    }\r\n\r\n    return client;\r\n  };\r\n}\r\n\r\nfunction getSecondsSinceDate(date) {\r\n  return Math.round(getMiliSecondsSinceDate(date) / 1000);\r\n}\r\n\r\nfunction getMiliSecondsSinceDate(date) {\r\n  return new Date().getTime() - date.getTime();\r\n}\r\n","import { getScreenProfile } from './getScreenProfile';\r\nimport { getWindowProfile } from './getWindowProfile';\r\n\r\nexport function getBrowserProfile() {\r\n  return {\r\n    'cookies'    : ('undefined' !== typeof navigator.cookieEnabled) ? navigator.cookieEnabled : false,\r\n    'codeName'   : navigator.appCodeName,\r\n    'description': getDocumentDescription(),\r\n    'language'   : navigator.language,\r\n    'name'       : navigator.appName,\r\n    'online'     : navigator.onLine,\r\n    'platform'   : navigator.platform,\r\n    'useragent'  : navigator.userAgent,\r\n    'version'    : navigator.appVersion,\r\n    'screen'     : getScreenProfile(),\r\n    'window'     : getWindowProfile()\r\n  }\r\n}\r\n\r\nfunction getDocumentDescription() {\r\n  var el;\r\n  if (document && typeof document.querySelector === 'function') {\r\n    el = document.querySelector('meta[name=\"description\"]');\r\n  }\r\n  return el ? el.content : '';\r\n}\r\n","export function getDatetimeIndex(input){\r\n  var date = input || new Date();\r\n  return {\r\n    'hour_of_day'  : date.getHours(),\r\n    'day_of_week'  : parseInt( 1 + date.getDay() ),\r\n    'day_of_month' : date.getDate(),\r\n    'month'        : parseInt( 1 + date.getMonth() ),\r\n    'year'         : date.getFullYear()\r\n  };\r\n}\r\n","function extractHostname(url) {\r\n    var hostname;\r\n    //find & remove protocol (http, ftp, etc.) and get hostname\r\n\r\n    if (url.indexOf(\"://\") > -1) {\r\n        hostname = url.split('/')[2];\r\n    }\r\n    else {\r\n        hostname = url.split('/')[0];\r\n    }\r\n\r\n    //find & remove port number\r\n    hostname = hostname.split(':')[0];\r\n    //find & remove \"?\"\r\n    hostname = hostname.split('?')[0];\r\n\r\n    return hostname;\r\n}\r\n\r\n// To address those who want the \"root domain,\" use this function:\r\nexport function getDomainName(url) {\r\n    var domain = extractHostname(url),\r\n        splitArr = domain.split('.'),\r\n        arrLen = splitArr.length;\r\n\r\n    //extracting the root domain here\r\n    //if there is a subdomain\r\n    if (arrLen > 2) {\r\n        domain = splitArr[arrLen - 2] + '.' + splitArr[arrLen - 1];\r\n        //check to see if it's using a Country Code Top Level Domain (ccTLD) (i.e. \".me.uk\")\r\n        if (splitArr[arrLen - 2].length == 2 && splitArr[arrLen - 1].length == 2) {\r\n            //this is using a ccTLD\r\n            domain = splitArr[arrLen - 3] + '.' + domain;\r\n        }\r\n    }\r\n    return domain;\r\n}\r\n","import { getDomNodePath } from './getDomNodePath';\r\nimport { getBasicDomNodeProfile } from './getBasicDomNodeProfile';\r\nimport { getNParents } from './getNParents';\r\n\r\nconst getTextContent = (el, options) => {\r\n  if(!options.recordTextContent || !el.textContent) {\r\n    return null;\r\n  }\r\n\r\n  if(options.redactTextContent) {\r\n    return '---REDACTED---';\r\n  }\r\n\r\n  return el.textContent;\r\n}\r\n\r\nexport function getDomNodeProfile(el, options = {}) {\r\n  return {\r\n    ...getBasicDomNodeProfile(el),\r\n    action: el.action,\r\n    method: el.method,\r\n    n_parents: getNParents(el, options.nParents),\r\n    selector: getDomNodePath(el),\r\n    text_content: getTextContent(el, options),\r\n    x_position: el.offsetLeft || el.clientLeft || null,\r\n    y_position: el.offsetTop || el.clientTop || null\r\n  };\r\n}\r\n","export function getDomNodeAttributes(el, filter) {\r\n  let i,\r\n    attributeNodes = el.attributes || {},\r\n    length = attributeNodes.length,\r\n    attrs = {};\r\n\r\n  for ( i = 0; i < length; i++ ){\r\n    const node = attributeNodes[i];\r\n\r\n    if(filter == '' || filter.test(node.name)) {\r\n     attrs[node.name] = node.value;\r\n    }\r\n  }\r\n\r\n  return attrs;\r\n}\r\n","import { getBasicDomNodeProfile } from './getBasicDomNodeProfile';\r\n\r\nexport function getNParents(element, nParents = 5, parents = []) {\r\n  let parent = element.parentNode;\r\n\r\n  if (nParents === 0 || !parent) {\r\n    return parents;\r\n  }\r\n\r\n  return getNParents(\r\n    parent,\r\n    nParents - 1,\r\n    parents.concat({\r\n      ...getBasicDomNodeProfile(parent),\r\n      nth_parent: parents.length + 1\r\n    })\r\n  )\r\n}\r\n","import extend from 'keen-core/lib/utils/extend';\r\n\r\nexport function getScrollState(obj){\r\n  var config = typeof obj === 'object' ? obj : {};\r\n  var state = extend({\r\n    pixel: 0,\r\n    pixel_max: 0,\r\n    ratio: null,\r\n    ratio_max: null\r\n  }, config);\r\n\r\n  if (typeof window !== undefined || typeof document !== undefined) {\r\n    state.pixel = getScrollOffset() + getWindowHeight();\r\n    if (state.pixel > state.pixel_max) {\r\n      state.pixel_max = state.pixel;\r\n    }\r\n    state.ratio = parseFloat(Number(state.pixel / getScrollableArea()).toFixed(2));\r\n    state.ratio_max = parseFloat(Number(state.pixel_max / getScrollableArea()).toFixed(2));\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction getScrollableArea() {\r\n  var body = document.body;\r\n  var html = document.documentElement;\r\n  return Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight ) || null;\r\n}\r\n\r\nfunction getScrollOffset() {\r\n  return (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\r\n}\r\n\r\nfunction getWindowHeight() {\r\n  return window.innerHeight || document.documentElement.clientHeight;\r\n}\r\n","export function getUniqueId() {\r\n  // uuidv4\r\n  if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\r\n    // browser\r\n    return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\r\n      (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n    )\r\n  } else {\r\n    // node & older browsers\r\n    let str = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\r\n    return str.replace(/[xy]/g, function(c) {\r\n      let r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n      return v.toString(16);\r\n    });\r\n  }\r\n}\r\n","import Cookies from 'js-cookie';\r\nimport extend from 'keen-core/lib/utils/extend';\r\n\r\nexport const cookie = function(str){\r\n  if (!arguments.length) return;\r\n  if (this instanceof cookie === false) {\r\n    return new cookie(str);\r\n  }\r\n\r\n  this.config = {\r\n    key: str,\r\n    options: {\r\n      expires: 365\r\n    }\r\n  };\r\n  this.data = this.get();\r\n  return this;\r\n}\r\n\r\ncookie.prototype.get = function(str){\r\n  var data = {};\r\n\r\n  if (Cookies.get(this.config.key)) {\r\n    data = Cookies.getJSON(this.config.key);\r\n  }\r\n  if (str && typeof data === 'object' && typeof data !== null) {\r\n    return (typeof data[str] !== 'undefined') ? data[str] : null;\r\n  }\r\n  else {\r\n    return data;\r\n  }\r\n};\r\n\r\ncookie.prototype.set = function(str, value, options){\r\n  if (!arguments.length || !this.enabled()) return this;\r\n  if (typeof str === 'string' && arguments.length >= 2) {\r\n    this.data[str] = value ? value : null;\r\n  }\r\n  else if (typeof str === 'object' && arguments.length === 1) {\r\n    extend(this.data, str);\r\n  }\r\n  Cookies.set(\r\n    this.config.key,\r\n    this.data,\r\n    extend(this.config.options, options || {})\r\n  );\r\n  return this;\r\n};\r\n\r\ncookie.prototype.expire = function(daysUntilExpire){\r\n  if (daysUntilExpire) {\r\n    Cookies.set(\r\n      this.config.key,\r\n      this.data,\r\n      extend(this.config.options, { expires: daysUntilExpire })\r\n    );\r\n  } else {\r\n    Cookies.remove(this.config.key);\r\n    this.data = {};\r\n  }\r\n  return this;\r\n};\r\n\r\ncookie.prototype.options = function(obj){\r\n  if (!arguments.length) return this.config.options;\r\n  this.config.options = (typeof obj === 'object') ? obj : {};\r\n  return this;\r\n};\r\n\r\ncookie.prototype.enabled = function(){\r\n  return navigator.cookieEnabled;\r\n};\r\n","/*!\n * JavaScript Cookie v2.1.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\tvar _OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = _OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\treturn (document.cookie = [\n\t\t\t\t\tkey, '=', value,\n\t\t\t\t\tattributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n\t\t\t\t\tattributes.path    && '; path=' + attributes.path,\n\t\t\t\t\tattributes.domain  && '; domain=' + attributes.domain,\n\t\t\t\t\tattributes.secure ? '; secure' : ''\n\t\t\t\t].join(''));\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.get = api.set = api;\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","/*\r\n  This is a modified copy of https://github.com/defunctzombie/form-serialize/ v0.7.1\r\n  Includes a new configuration option:\r\n    * ignoreTypes - Array, Default: [], Example: [ 'password' ]\r\n*/\r\n\r\n// types which indicate a submit action and are not successful controls\r\n// these will be ignored\r\nvar k_r_submitter = /^(?:submit|button|image|reset|file)$/i;\r\n\r\n// node names which could be successful controls\r\nvar k_r_success_contrls = /^(?:input|select|textarea|keygen)/i;\r\n\r\n// Matches bracket notation.\r\nvar brackets = /(\\[[^\\[\\]]*\\])/g;\r\n\r\n// serializes form fields\r\n// @param form MUST be an HTMLForm element\r\n// @param options is an optional argument to configure the serialization. Default output\r\n// with no options specified is a url encoded string\r\n//    - hash: [true | false] Configure the output type. If true, the output will\r\n//    be a js object.\r\n//    - serializer: [function] Optional serializer function to override the default one.\r\n//    The function takes 3 arguments (result, key, value) and should return new result\r\n//    hash and url encoded str serializers are provided with this module\r\n//    - disabled: [true | false]. If true serialize disabled fields.\r\n//    - empty: [true | false]. If true serialize empty fields\r\nexport function serializeForm(form, options) {\r\n  if (typeof options != 'object') {\r\n    options = { hash: !!options };\r\n  }\r\n  else if (options.hash === undefined) {\r\n    options.hash = true;\r\n  }\r\n\r\n  var result = (options.hash) ? {} : '';\r\n  var serializer = options.serializer || ((options.hash) ? hash_serializer : str_serialize);\r\n\r\n  var elements = form && form.elements ? form.elements : [];\r\n\r\n  // Object store each radio and set if it's empty or not\r\n  var radio_store = Object.create(null);\r\n\r\n  for (var i=0 ; i<elements.length ; ++i) {\r\n    var element = elements[i];\r\n\r\n    // NEW: Skip ignored field types\r\n    if (options.ignoreTypes && options.ignoreTypes.indexOf(element.type) > -1) {\r\n      continue;\r\n    }\r\n    // ingore disabled fields\r\n    if ((!options.disabled && element.disabled) || !element.name) {\r\n      continue;\r\n    }\r\n    // ignore anyhting that is not considered a success field\r\n    if (!k_r_success_contrls.test(element.nodeName) ||\r\n      k_r_submitter.test(element.type)) {\r\n      continue;\r\n    }\r\n\r\n    var key = element.name;\r\n    var val = element.value;\r\n\r\n    // we can't just use element.value for checkboxes cause some browsers lie to us\r\n    // they say \"on\" for value when the box isn't checked\r\n    if ((element.type === 'checkbox' || element.type === 'radio') && !element.checked) {\r\n      val = undefined;\r\n    }\r\n\r\n    // If we want empty elements\r\n    if (options.empty) {\r\n      if (element.type === 'checkbox' && !element.checked) {\r\n        val = '';\r\n      }\r\n\r\n      // for radio\r\n      if (element.type === 'radio') {\r\n        if (!radio_store[element.name] && !element.checked) {\r\n          radio_store[element.name] = false;\r\n        }\r\n        else if (element.checked) {\r\n          radio_store[element.name] = true;\r\n        }\r\n      }\r\n\r\n      // if options empty is true, continue only if its radio\r\n      if (val == undefined && element.type == 'radio') {\r\n        continue;\r\n      }\r\n    }\r\n    else {\r\n      // value-less fields are ignored unless options.empty is true\r\n      if (!val) {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    // multi select boxes\r\n    if (element.type === 'select-multiple') {\r\n      val = [];\r\n\r\n      var selectOptions = element.options;\r\n      var isSelectedOptions = false;\r\n      for (var j=0 ; j<selectOptions.length ; ++j) {\r\n        var option = selectOptions[j];\r\n        var allowedEmpty = options.empty && !option.value;\r\n        var hasValue = (option.value || allowedEmpty);\r\n        if (option.selected && hasValue) {\r\n          isSelectedOptions = true;\r\n\r\n          // If using a hash serializer be sure to add the\r\n          // correct notation for an array in the multi-select\r\n          // context. Here the name attribute on the select element\r\n          // might be missing the trailing bracket pair. Both names\r\n          // \"foo\" and \"foo[]\" should be arrays.\r\n          if (options.hash && key.slice(key.length - 2) !== '[]') {\r\n            result = serializer(result, key + '[]', option.value);\r\n          }\r\n          else {\r\n            result = serializer(result, key, option.value);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!isSelectedOptions && options.empty) {\r\n        result = serializer(result, key, '');\r\n      }\r\n      continue;\r\n    }\r\n\r\n    result = serializer(result, key, val);\r\n  }\r\n\r\n  if (options.empty) {\r\n    for (var key in radio_store) {\r\n      if (!radio_store[key]) {\r\n        result = serializer(result, key, '');\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction parse_keys(string) {\r\n  var keys = [];\r\n  var prefix = /^([^\\[\\]]*)/;\r\n  var children = new RegExp(brackets);\r\n  var match = prefix.exec(string);\r\n\r\n  if (match[1]) {\r\n      keys.push(match[1]);\r\n  }\r\n\r\n  while ((match = children.exec(string)) !== null) {\r\n      keys.push(match[1]);\r\n  }\r\n\r\n  return keys;\r\n}\r\n\r\nfunction hash_assign(result, keys, value) {\r\n  if (keys.length === 0) {\r\n    result = value;\r\n    return result;\r\n  }\r\n\r\n  var key = keys.shift();\r\n  var between = key.match(/^\\[(.+?)\\]$/);\r\n\r\n  if (key === '[]') {\r\n    result = result || [];\r\n\r\n    if (Array.isArray(result)) {\r\n      result.push(hash_assign(null, keys, value));\r\n    }\r\n    else {\r\n      // This might be the result of bad name attributes like \"[][foo]\",\r\n      // in this case the original `result` object will already be\r\n      // assigned to an object literal. Rather than coerce the object to\r\n      // an array, or cause an exception the attribute \"_values\" is\r\n      // assigned as an array.\r\n      result._values = result._values || [];\r\n      result._values.push(hash_assign(null, keys, value));\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // Key is an attribute name and can be assigned directly.\r\n  if (!between) {\r\n    result[key] = hash_assign(result[key], keys, value);\r\n  }\r\n  else {\r\n    var string = between[1];\r\n    // +var converts the variable into a number\r\n    // better than parseInt because it doesn't truncate away trailing\r\n    // letters and actually fails if whole thing is not a number\r\n    var index = +string;\r\n\r\n    // If the characters between the brackets is not a number it is an\r\n    // attribute name and can be assigned directly.\r\n    if (isNaN(index)) {\r\n      result = result || {};\r\n      result[string] = hash_assign(result[string], keys, value);\r\n    }\r\n    else {\r\n      result = result || [];\r\n      result[index] = hash_assign(result[index], keys, value);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n// Object/hash encoding serializer.\r\nfunction hash_serializer(result, key, value) {\r\n  var matches = key.match(brackets);\r\n\r\n  // Has brackets? Use the recursive assignment function to walk the keys,\r\n  // construct any missing objects in the result tree and make the assignment\r\n  // at the end of the chain.\r\n  if (matches) {\r\n    var keys = parse_keys(key);\r\n    hash_assign(result, keys, value);\r\n  }\r\n  else {\r\n    // Non bracket notation can make assignments directly.\r\n    var existing = result[key];\r\n\r\n    // If the value has been assigned already (for instance when a radio and\r\n    // a checkbox have the same name attribute) convert the previous value\r\n    // into an array before pushing into it.\r\n    //\r\n    // NOTE: If this requirement were removed all hash creation and\r\n    // assignment could go through `hash_assign`.\r\n    if (existing) {\r\n      if (!Array.isArray(existing)) {\r\n        result[key] = [ existing ];\r\n      }\r\n\r\n      result[key].push(value);\r\n    }\r\n    else {\r\n      result[key] = value;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n// urlform encoding serializer\r\nfunction str_serialize(result, key, value) {\r\n  // encode newlines as \\r\\n cause the html spec says so\r\n  value = value.replace(/(\\r)?\\n/g, '\\r\\n');\r\n  value = encodeURIComponent(value);\r\n\r\n  // spaces should be '+' rather than '%20'.\r\n  value = value.replace(/%20/g, '+');\r\n  return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + value;\r\n}\r\n","export function timer(num){\r\n  if (this instanceof timer === false) {\r\n    return new timer(num);\r\n  }\r\n  this.count = num || 0;\r\n  return this;\r\n}\r\n\r\ntimer.prototype.start = function(){\r\n  var self = this;\r\n  this.pause();\r\n  this.interval = setInterval(function(){\r\n    self.count++;\r\n  }, 1000);\r\n  return this;\r\n};\r\n\r\ntimer.prototype.pause = function(){\r\n  clearInterval(this.interval);\r\n  return this;\r\n};\r\n\r\ntimer.prototype.value = function(){\r\n  return this.count;\r\n};\r\n\r\ntimer.prototype.clear = function(){\r\n  this.count = 0;\r\n  return this;\r\n};\r\n"],"sourceRoot":""}